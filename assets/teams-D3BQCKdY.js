import{j as e}from"./ui-vendor-DO8HNBy7.js";import{B as c,s as n}from"./index-CxnTeCY0.js";import{C as u,a as x}from"./card-COJIcVAE.js";import{B as h}from"./badge-CbbOyDid.js";import{R as p}from"./robot-image-VCtKXIg4.js";import{c as i}from"./query-vendor-DCkfz_My.js";import{L as l}from"./react-vendor-BE_oCUfB.js";import"./supabase-vendor-BfNnX3KH.js";import"./utils-vendor-Dkv1a4Vh.js";import"./icons-vendor-B85u7KyA.js";function f({team:r,className:t,...a}){return e.jsxs(u,{className:`group overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-[1.02] ${t}`,...a,children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-950/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent z-10"}),e.jsx(p,{team:r,className:"w-full aspect-square object-contain transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute top-3 left-3 z-20",children:e.jsx(h,{className:"bg-primary/90 text-primary-foreground font-bold text-lg px-3 py-1",children:r.number})})]}),e.jsx(x,{className:"p-5",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:r.name||`Team ${r.number}`}),r.name&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Team ",r.number]})]})})})]})}function T(){const{data:r=[],isLoading:t,error:a}=i({queryKey:["teams","list"],queryFn:async()=>{const{data:s,error:o}=await n.from("teams").select("id, number, name, robot_image_url").order("number",{ascending:!0});if(o)throw o;return s??[]}}),{data:m}=i({queryKey:["auth","user"],queryFn:async()=>{const{data:{user:s}}=await n.auth.getUser();return{user:s}}}),d=m?.user;return t?e.jsx("p",{children:"Loading teams..."}):a?e.jsxs("p",{className:"text-red-600",children:["Error: ",String(a)]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Teams"}),d&&e.jsx(l,{to:"/teams/new",children:e.jsx(c,{children:"New Team"})})]}),r.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No teams yet."}):e.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(s=>e.jsx("li",{children:e.jsx(l,{to:`/teams/${s.id}`,className:"block",children:e.jsx(f,{team:s})})},s.id))})]})}export{T as default};
