import{c as L,j as e,L as y,s as T}from"./index-WvZcqDcg.js";import{B as q,T as k}from"./badge-FhSNMlHL.js";import{u as E}from"./useQuery-DTQ6mRtF.js";import{S as P,C as R}from"./square-pen-BAC17ZOz.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],w=L("clock",B);function I(m){const n=new Date(m).getTime(),x=Date.now(),o=Math.round((n-x)/1e3),a=Math.abs(o),u=60,i=60*u,t=24*i;let s,d;a<i?(s=Math.max(1,Math.round(a/u)),d="min"):a<t?(s=Math.max(1,Math.round(a/i)),d="hr"):(s=Math.max(1,Math.round(a/t)),d=s===1?"day":"days");const c=`${s} ${d}`;return o>0?`in ${c}`:o<0?`${c} ago`:"now"}function K({title:m,scheduledAt:n,redName:x,blueName:o,right:a,showRelativeTime:u=!1,editHref:i,redScore:t,blueScore:s,matchNumber:d,round:c,matchId:N}){const{data:M}=E({queryKey:["auth","user"],queryFn:async()=>{const{data:{user:l}}=await T.auth.getUser();return{user:l}}}),$=M?.user;let p="Unscheduled",h=e.jsx(R,{className:"w-3 h-3"}),f="text-muted-foreground";if(n)if(u){const l=new Date(n).getTime(),g=Math.abs(l-Date.now()),D=720*60*1e3;p=g>D?new Date(n).toLocaleString():I(n),g<3600*1e3?(f="text-red-600",h=e.jsx(w,{className:"w-3 h-3"})):g<7200*1e3?(f="text-orange-600",h=e.jsx(w,{className:"w-3 h-3"})):g<360*60*1e3&&(f="text-yellow-600",h=e.jsx(w,{className:"w-3 h-3"}))}else p=new Date(n).toLocaleString();const r=t!=null&&s!==void 0&&s!==null,b=r&&t>s,j=r&&s>t,C=r&&t===s,v=e.jsxs("div",{className:"group border rounded-lg p-3 text-sm flex items-center justify-between gap-3 bg-card hover:bg-accent/50 transition-all duration-200 hover:shadow-sm cursor-pointer",children:[e.jsx("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:e.jsxs("div",{className:"min-w-[8rem]",children:[m?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"font-semibold text-foreground",children:m}),c&&e.jsxs(q,{className:"text-xs px-2 py-0 h-5",children:["R",c,"M",d]})]}):null,e.jsxs("div",{className:`flex items-center gap-1.5 mt-1 ${f}`,children:[h,e.jsx("span",{className:"text-xs",children:p})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1 justify-center",children:[e.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-1.5 rounded-lg border-2 transition-all duration-200
          ${b?"border-red-500 bg-red-50 dark:bg-red-950/30 shadow-sm":"border-red-200 bg-red-50/50 dark:bg-red-950/10"}
          ${r?"min-w-[8rem]":"min-w-[6rem]"}
        `,children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e.jsx("span",{className:"font-medium text-red-900 dark:text-red-100 truncate",title:x,children:x}),r&&e.jsx("span",{className:`
              font-bold text-lg ml-auto
              ${b?"text-red-700 dark:text-red-300":"text-red-600 dark:text-red-400"}
            `,children:t})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"VS"}),r&&e.jsxs("div",{className:"flex items-center gap-1",children:[b&&e.jsx(k,{className:"w-3 h-3 text-yellow-500"}),C&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"TIE"}),j&&e.jsx(k,{className:"w-3 h-3 text-yellow-500"})]})]}),e.jsxs("div",{className:`
          flex items-center gap-2 px-3 py-1.5 rounded-lg border-2 transition-all duration-200
          ${j?"border-blue-500 bg-blue-50 dark:bg-blue-950/30 shadow-sm":"border-blue-200 bg-blue-50/50 dark:bg-blue-950/10"}
          ${r?"min-w-[8rem]":"min-w-[6rem]"}
        `,children:[r&&e.jsx("span",{className:`
              font-bold text-lg mr-auto
              ${j?"text-blue-700 dark:text-blue-300":"text-blue-600 dark:text-blue-400"}
            `,children:s}),e.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100 truncate",title:o,children:o}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]}),e.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[i&&$&&e.jsxs(y,{to:i,className:"flex items-center gap-1.5 text-xs rounded-md px-2.5 py-1.5 border hover:bg-accent hover:border-accent-foreground transition-colors",onClick:l=>l.stopPropagation(),children:[e.jsx(P,{className:"w-3 h-3"}),"Edit"]}),a?e.jsx("div",{onClick:l=>l.stopPropagation(),children:a}):null]})]});return N?e.jsx(y,{to:`/matches/preview/${N}`,className:"block no-underline",children:v}):v}export{w as C,K as M};
