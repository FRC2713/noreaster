import{s as l}from"./index-DiB4IOcY.js";import{u as c}from"./use-smart-polling-Dq1UeSm6.js";async function s(){const{data:a,error:e}=await l.from("matches").select(`
      id, 
      name, 
      red_alliance_id, 
      blue_alliance_id, 
      scheduled_at, 
      red_score, 
      blue_score, 
      red_auto_score, 
      blue_auto_score, 
      red_coral_rp, 
      red_auto_rp, 
      red_barge_rp, 
      blue_coral_rp, 
      blue_auto_rp, 
      blue_barge_rp,
      round,
      match_number,
      match_type,
      red:alliances!matches_red_alliance_id_fkey(name), 
      blue:alliances!matches_blue_alliance_id_fkey(name)
    `).order("scheduled_at",{ascending:!0});if(e)throw e;return a||[]}function o(){const{data:a=[],isLoading:e,error:r,dataUpdatedAt:t}=c({queryKey:["matches","polling"],queryFn:s,refetchInterval:2e4,staleTime:15e3,gcTime:6e5});return{matches:a,isLoading:e,error:r?r instanceof Error?r.message:"Failed to fetch matches":null,lastUpdated:t?new Date(t):null}}export{o as u};
