import{j as e,L as i,s as o}from"./index-WvZcqDcg.js";import{C as c,c as u}from"./card-Dnt-Pamn.js";import{B as x,T as h}from"./badge-FhSNMlHL.js";import{R as g}from"./robot-image-flneOwZu.js";import{U as f}from"./users-DMdOr_fs.js";import{T as j}from"./target-BijQUYg9.js";import{B as p}from"./button-BjoTGIGe.js";import{u as n}from"./useQuery-DTQ6mRtF.js";function b({team:s,className:a,...t}){return e.jsxs(c,{className:`group overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-[1.02] ${a}`,...t,children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-950/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent z-10"}),e.jsx(g,{team:s,className:"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute top-3 left-3 z-20",children:e.jsx(x,{className:"bg-primary/90 text-primary-foreground font-bold text-lg px-3 py-1",children:s.number})}),e.jsx("div",{className:"absolute top-3 right-3 z-20",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400 animate-pulse"})}),e.jsx("div",{className:"absolute bottom-3 right-3 z-20",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"})})]}),e.jsx(u,{className:"p-5",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:s.name||`Team ${s.number}`}),s.name&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Team ",s.number]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-3 border-t border-muted/30",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 mx-auto mb-2",children:e.jsx(f,{className:"w-4 h-4 text-blue-600"})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Members"}),e.jsx("div",{className:"text-sm font-semibold",children:"4"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 mx-auto mb-2",children:e.jsx(h,{className:"w-4 h-4 text-green-600"})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Wins"}),e.jsx("div",{className:"text-sm font-semibold",children:"-"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-100/30 mx-auto mb-2",children:e.jsx(j,{className:"w-4 h-4 text-purple-600"})}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"RP"}),e.jsx("div",{className:"text-sm font-semibold",children:"-"})]})]}),e.jsx("div",{className:"pt-3",children:e.jsx("button",{className:"w-full py-2 px-4 bg-primary/10 hover:bg-primary/20 text-primary font-medium rounded-lg transition-colors duration-200 group-hover:bg-primary group-hover:text-primary-foreground",children:"View Details"})})]})})]})}function z(){const{data:s=[],isLoading:a,error:t}=n({queryKey:["teams","list"],queryFn:async()=>{const{data:r,error:l}=await o.from("teams").select("id, number, name, robot_image_url").order("number",{ascending:!0});if(l)throw l;return r??[]}}),{data:d}=n({queryKey:["auth","user"],queryFn:async()=>{const{data:{user:r}}=await o.auth.getUser();return{user:r}}}),m=d?.user;return a?e.jsx("p",{children:"Loading teams..."}):t?e.jsxs("p",{className:"text-red-600",children:["Error: ",String(t)]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Teams"}),m&&e.jsx(i,{to:"/teams/new",children:e.jsx(p,{children:"New Team"})})]}),s.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No teams yet."}):e.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.map(r=>e.jsx("li",{children:e.jsx(i,{to:`/teams/${r.id}`,className:"block",children:e.jsx(b,{team:r})})},r.id))})]})}export{z as default};
