import{j as a,x as nn,V as sn,y as an,z as rn,B as on,E as ln,F as cn,G as dn,H as un,L as fn,J as mn,K as hn,M as pn,N as xn,Q as gn,U as yn}from"./ui-vendor-CWhAcX5I.js";import{c as g,r as j}from"./react-vendor-BE_oCUfB.js";import{c as C,b as dt,B as be,T as Ve,a as Je,d as Xe,f as we,e as vn,s as De}from"./index-DDBma67i.js";import{C as Q,b as ce,c as de,a as V}from"./card-DCxV3Rmh.js";import{v as We,b as bn,d as wn,e as Nn,f as Mn,g as jn,h as Dn,i as _n,j as kn,k as Sn,l as Cn,m as On,n as Tn,o as Wn,p as En,q as Bn,r as An,s as Fn,u as In,w as Rn,x as Yn,y as Pn,z as zn,A as $n,B as qn,C as Hn,D as Zn,E as Ln,F as Gn,G as Un,H as Kn,I as Qn,J as bt}from"./utils-vendor-Dkv1a4Vh.js";import{u as Vn}from"./use-rankings-polling-D0gsH033.js";import{u as Jn,c as ut,b as ft}from"./query-vendor-Cs1Z885O.js";import{u as Xn}from"./use-alliances-polling-1S8ZN4KI.js";import{u as es}from"./use-matches-polling-BD-JXtZx.js";import{h as ts,i as Ee,j as qe,k as wt,C as Ne,a as $e,l as He,d as ns,m as ss,I as as}from"./icons-vendor-NdmwdHec.js";import{S as st}from"./separator-mlN1XjpE.js";import{L as pe,I as ve}from"./label-Cpxlj9cP.js";import"./supabase-vendor-BfNnX3KH.js";function rt({className:e,children:t,...n}){return a.jsxs(nn,{"data-slot":"scroll-area",className:C("relative",e),...n,children:[a.jsx(sn,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(rs,{}),a.jsx(an,{})]})}function rs({className:e,orientation:t="vertical",...n}){return a.jsx(rn,{"data-slot":"scroll-area-scrollbar",orientation:t,className:C("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:a.jsx(on,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function os({...e}){return a.jsx(ln,{"data-slot":"collapsible",...e})}function is({...e}){return a.jsx(cn,{"data-slot":"collapsible-trigger",...e})}function ls({...e}){return a.jsx(dn,{"data-slot":"collapsible-content",...e})}function cs({className:e,...t}){return a.jsx(un,{"data-slot":"tabs",className:C("flex flex-col gap-2",e),...t})}function ds({className:e,...t}){return a.jsx(fn,{"data-slot":"tabs-list",className:C("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Pe({className:e,...t}){return a.jsx(mn,{"data-slot":"tabs-trigger",className:C("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function ze({className:e,...t}){return a.jsx(hn,{"data-slot":"tabs-content",className:C("flex-1 outline-none",e),...t})}function mt(e,t){const[n,s]=t.split(":").map(i=>Number(i)),r=new Date(e);return r.setHours(n??0,s??0,0,0),r.toISOString()}function us(e,t){if(e.length<2)throw new Error("Need at least 2 alliances.");const n=fs(e),s=new Date(mt(t.day,t.desiredLunchTime)),r=[],i=new Date(mt(t.day,t.startTime));for(let c=0;c<t.rrRounds;c++){const d={startTime:i.toISOString(),activity:{type:"matches",round:c,matches:[]}};n.forEach(f=>{const u=c%2===0?f.red:f.blue,h=c%2===0?f.blue:f.red,m={id:We(),red_alliance_id:u.id,blue_alliance_id:h.id,scheduled_at:new Date(i),round:c+1};d.activity.matches.push(m),i.setMinutes(i.getMinutes()+parseInt(t.intervalMin))}),r.push(d)}const l=[];let o=!1;for(let c=0;c<r.length;c++){const d=r[c],f=new Date(d.startTime),u=new Date(f);u.setMinutes(u.getMinutes()+n.length*parseInt(t.intervalMin)),!o&&f>=s&&(l.push({startTime:f.toISOString(),activity:{type:"lunch",duration:t.lunchDurationMin}}),o=!0,f.setMinutes(f.getMinutes()+t.lunchDurationMin),d.startTime=f.toISOString(),d.activity.matches.forEach((h,m)=>{const x=new Date(f);x.setMinutes(x.getMinutes()+m*parseInt(t.intervalMin)),h.scheduled_at=x})),l.push(d)}if(!o&&r.length>0){const c=r[r.length-1],d=new Date(c.startTime);d.setMinutes(d.getMinutes()+n.length*parseInt(t.intervalMin)),l.push({startTime:d.toISOString(),activity:{type:"lunch",duration:t.lunchDurationMin}})}return l}function fs(e){if(e.length<2)return[];const t=[],n=[...e];for(;n.length>1;){for(let r=1;r<n.length;r++){console.log("pairing",n[0],n[r]);const i=n[0],l=n[r];t.push({red:i,blue:l})}n.shift()}return ms(t)}function ms(e){if(e.length<=1)return e;const t=[],n=[...e];for(t.push(n.shift());n.length>0;){const s=t[t.length-1],r=new Set([s.red.id,s.blue.id]);let i=-1;for(let l=0;l<n.length;l++){const o=n[l];if(![...new Set([o.red.id,o.blue.id])].some(f=>r.has(f))){i=l;break}}i===-1&&(i=0),t.push(n.splice(i,1)[0])}return t}function hs(e,t){if(e.length===0)return null;const n=new Map,s=new Map,r=new Map,i=new Map;for(const m of e)n.set(m.red_alliance_id,(n.get(m.red_alliance_id)??0)+1),n.set(m.blue_alliance_id,(n.get(m.blue_alliance_id)??0)+1),s.set(m.red_alliance_id,(s.get(m.red_alliance_id)??0)+1),r.set(m.blue_alliance_id,(r.get(m.blue_alliance_id)??0)+1),[m.red_alliance_id,m.blue_alliance_id].forEach(x=>{const p=i.get(x)??[];p.push(new Date(m.scheduled_at).getTime()),i.set(x,p)});const l=new Map,o=new Map,c=new Map;for(const[m,x]of i.entries()){if(x.sort((N,O)=>N-O),x.length<=1){l.set(m,0),o.set(m,0),c.set(m,0);continue}const p=[];for(let N=1;N<x.length;N++){const O=(x[N]-x[N-1])/6e4;p.push(O)}const w=p.reduce((N,O)=>N+O,0);l.set(m,w/p.length),o.set(m,Math.min(...p)),c.set(m,Math.max(...p))}const d=t.map(m=>({id:m.id,name:m.name,matches:n.get(m.id)??0,redMatches:s.get(m.id)??0,blueMatches:r.get(m.id)??0,avgMinutes:Number((l.get(m.id)??0).toFixed(1)),minMinutes:Number((o.get(m.id)??0).toFixed(1)),maxMinutes:Number((c.get(m.id)??0).toFixed(1))})),f=e.length,u=Math.max(...e.map(m=>m.round),0),h=d.length?Number((f*2/d.length).toFixed(2)):0;return{rows:d,totalMatches:f,totalRounds:u,avgMatchesPerAlliance:h}}function ps(e,t,n){const s=e.length;if(s<2)throw new Error("Need at least 2 alliances for double elimination tournament");const r=[],i=[];let l=new Date(t),o=1;const c=Math.ceil(Math.log2(s)),d=xs(e,c,l,n,o);l=new Date(d.endTime),o=d.nextMatchNumber;const f=(c-1)*2,u=gs(e,f,l,n,o);l=new Date(u.endTime),o=u.nextMatchNumber;const h=ys(l,n,o),m=new Map;d.matches.forEach(p=>{m.has(p.round)||m.set(p.round,[]),m.get(p.round).push(p)}),m.forEach((p,w)=>{r.push({type:"matches",matches:p,round:w,bracket:"winners",description:`Winners Bracket - Round ${w}`})});const x=new Map;return u.matches.forEach(p=>{x.has(p.round)||x.set(p.round,[]),x.get(p.round).push(p)}),x.forEach((p,w)=>{i.push({type:"matches",matches:p,round:w,bracket:"losers",description:`Losers Bracket - Round ${w}`})}),{winners_bracket:r,losers_bracket:i,finals:h,total_rounds:c+f+2,total_matches:d.matches.length+u.matches.length+h.length}}function xs(e,t,n,s,r){const i=[],l=new Date(n);let o=r;const c=e.length%2===1,d=Math.floor(e.length/2),f=[...e],u=c?1:0;for(let m=0;m<d;m++){const x=f[u+m],p=f[f.length-1-m],w={id:We(),red_alliance_id:x.alliance_id,blue_alliance_id:p.alliance_id,scheduled_at:new Date(l),round:1,bracket:"winners",match_number:o++};i.push(w),l.setMinutes(l.getMinutes()+s)}let h=f.length;for(let m=2;m<=t;m++){const x=Math.ceil(h/2);h=Math.ceil(h/2);for(let p=0;p<x;p++){const w={id:We(),red_alliance_id:"",blue_alliance_id:"",scheduled_at:new Date(l),round:m,bracket:"winners",match_number:o++};i.push(w),l.setMinutes(l.getMinutes()+s)}}return{matches:i,endTime:new Date(l),nextMatchNumber:o}}function gs(e,t,n,s,r){const i=[],l=new Date(n);let o=r;for(let c=1;c<=t;c++){const d=Math.max(1,Math.floor(e.length/Math.pow(2,c)));for(let f=0;f<d;f++){const u={id:We(),red_alliance_id:"",blue_alliance_id:"",scheduled_at:new Date(l),round:c,bracket:"losers",match_number:o++};i.push(u),l.setMinutes(l.getMinutes()+s)}}return{matches:i,endTime:new Date(l),nextMatchNumber:o}}function ys(e,t,n){const s=[],r=new Date(e);let i=n;for(let l=1;l<=3;l++){const o={id:We(),red_alliance_id:"",blue_alliance_id:"",scheduled_at:new Date(r),round:l,bracket:"winners",match_number:i++};s.push(o),r.setMinutes(r.getMinutes()+t)}return s}function vs(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const bs={},Oe={};function Te(e,t){try{const s=(bs[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return s in Oe?Oe[s]:ht(s,s.split(":"))}catch{if(e in Oe)return Oe[e];const n=e?.match(ws);return n?ht(e,n.slice(1)):NaN}}const ws=/([+-]\d\d):?(\d\d)?/;function ht(e,t){const n=+(t[0]||0),s=+(t[1]||0);return Oe[e]=n>0?n*60+s:n*60-s}class re extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Te(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Nt(this),at(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new re(...n,t):new re(Date.now(),t)}withTimeZone(t){return new re(+this,t)}getTimezoneOffset(){return-Te(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),at(this),+this}[Symbol.for("constructDateFrom")](t){return new re(+new Date(t),this.timeZone)}}const pt=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!pt.test(e))return;const t=e.replace(pt,"$1UTC");re.prototype[t]&&(e.startsWith("get")?re.prototype[e]=function(){return this.internal[t]()}:(re.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Ns(this),+this},re.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),at(this),+this}))});function at(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function Ns(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Nt(e)}function Nt(e){const t=Te(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const s=-new Date(+e).getTimezoneOffset(),r=-new Date(+n).getTimezoneOffset(),i=s-r,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const o=s-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);const c=Te(e.timeZone,e),f=-new Date(+e).getTimezoneOffset()-c,u=c!==t,h=f-o;if(u&&h){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const m=Te(e.timeZone,e),x=c-m;x&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+x),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+x))}}class $ extends re{static tz(t,...n){return n.length?new $(...n,t):new $(Date.now(),t)}toISOString(){const[t,n,s]=this.tzComponents(),r=`${t}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,s,r]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${s} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,s,r]=this.tzComponents();return`${t} GMT${n}${s}${r} (${vs(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,s,r]}withTimeZone(t){return new $(+this,t)}[Symbol.for("constructDateFrom")](t){return new $(+new Date(t),this.timeZone)}}var y;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(y||(y={}));var F;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(F||(F={}));var te;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(te||(te={}));var K;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(K||(K={}));const xt=5,Ms=4;function js(e,t){const n=t.startOfMonth(e),s=n.getDay()>0?n.getDay():7,r=t.addDays(e,-s+1),i=t.addDays(r,xt*7-1);return t.getMonth(e)===t.getMonth(i)?xt:Ms}function Mt(e,t){const n=t.startOfMonth(e),s=n.getDay();return s===1?n:s===0?t.addDays(n,-6):t.addDays(n,-1*(s-1))}function Ds(e,t){const n=Mt(e,t),s=js(e,t);return t.addDays(n,s*7-1)}class me{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?$.tz(this.options.timeZone):new this.Date,this.newDate=(s,r,i)=>this.overrides?.newDate?this.overrides.newDate(s,r,i):this.options.timeZone?new $(s,r,i,this.options.timeZone):new Date(s,r,i),this.addDays=(s,r)=>this.overrides?.addDays?this.overrides.addDays(s,r):bn(s,r),this.addMonths=(s,r)=>this.overrides?.addMonths?this.overrides.addMonths(s,r):wn(s,r),this.addWeeks=(s,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,r):Nn(s,r),this.addYears=(s,r)=>this.overrides?.addYears?this.overrides.addYears(s,r):Mn(s,r),this.differenceInCalendarDays=(s,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,r):jn(s,r),this.differenceInCalendarMonths=(s,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,r):Dn(s,r),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):_n(s),this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):Ds(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):kn(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):Sn(s),this.endOfWeek=(s,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,r):Cn(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):On(s),this.format=(s,r,i)=>{const l=this.overrides?.format?this.overrides.format(s,r,this.options):Tn(s,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):Wn(s),this.getMonth=(s,r)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):En(s,this.options),this.getYear=(s,r)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):Bn(s,this.options),this.getWeek=(s,r)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):An(s,this.options),this.isAfter=(s,r)=>this.overrides?.isAfter?this.overrides.isAfter(s,r):Fn(s,r),this.isBefore=(s,r)=>this.overrides?.isBefore?this.overrides.isBefore(s,r):In(s,r),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Rn(s),this.isSameDay=(s,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,r):Yn(s,r),this.isSameMonth=(s,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,r):Pn(s,r),this.isSameYear=(s,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,r):zn(s,r),this.max=s=>this.overrides?.max?this.overrides.max(s):$n(s),this.min=s=>this.overrides?.min?this.overrides.min(s):qn(s),this.setMonth=(s,r)=>this.overrides?.setMonth?this.overrides.setMonth(s,r):Hn(s,r),this.setYear=(s,r)=>this.overrides?.setYear?this.overrides.setYear(s,r):Zn(s,r),this.startOfBroadcastWeek=(s,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):Mt(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):Ln(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):Gn(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):Un(s),this.startOfWeek=(s,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):Kn(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):Qn(s),this.options={locale:bt,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let r=0;r<10;r++)s[r.toString()]=n.format(r);return s}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,s=>n[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}}const oe=new me;class jt{constructor(t,n,s=oe){this.date=t,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(t,n)),this.dateLib=s}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class _s{constructor(t,n){this.date=t,this.weeks=n}}class ks{constructor(t,n){this.days=n,this.weekNumber=t}}function ue(e,t,n=!1,s=oe){let{from:r,to:i}=e;const{differenceInCalendarDays:l,isSameDay:o}=s;return r&&i?(l(i,r)<0&&([r,i]=[i,r]),l(t,r)>=(n?1:0)&&l(i,t)>=(n?1:0)):!n&&i?o(i,t):!n&&r?o(r,t):!1}function Dt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function ot(e){return!!(e&&typeof e=="object"&&"from"in e)}function _t(e){return!!(e&&typeof e=="object"&&"after"in e)}function kt(e){return!!(e&&typeof e=="object"&&"before"in e)}function St(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ct(e,t){return Array.isArray(e)&&e.every(t.isDate)}function fe(e,t,n=oe){const s=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:i,isAfter:l}=n;return s.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return r(e,o);if(Ct(o,n))return o.includes(e);if(ot(o))return ue(o,e,!1,n);if(St(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(e.getDay()):o.dayOfWeek===e.getDay();if(Dt(o)){const c=i(o.before,e),d=i(o.after,e),f=c>0,u=d<0;return l(o.before,o.after)?u&&f:f||u}return _t(o)?i(e,o.after)>0:kt(o)?i(o.before,e)>0:typeof o=="function"?o(e):!1})}function Ss(e,t,n,s,r){const{disabled:i,hidden:l,modifiers:o,showOutsideDays:c,broadcastCalendar:d,today:f}=t,{isSameDay:u,isSameMonth:h,startOfMonth:m,isBefore:x,endOfMonth:p,isAfter:w}=r,N=n&&m(n),O=s&&p(s),D={[F.focused]:[],[F.outside]:[],[F.disabled]:[],[F.hidden]:[],[F.today]:[]},B={};for(const v of e){const{date:_,displayMonth:k}=v,T=!!(k&&!h(_,k)),R=!!(N&&x(_,N)),P=!!(O&&w(_,O)),Y=!!(i&&fe(_,i,r)),H=!!(l&&fe(_,l,r))||R||P||!d&&!c&&T||d&&c===!1&&T,q=u(_,f??r.today());T&&D.outside.push(v),Y&&D.disabled.push(v),H&&D.hidden.push(v),q&&D.today.push(v),o&&Object.keys(o).forEach(ne=>{const ie=o?.[ne];ie&&fe(_,ie,r)&&(B[ne]?B[ne].push(v):B[ne]=[v])})}return v=>{const _={[F.focused]:!1,[F.disabled]:!1,[F.hidden]:!1,[F.outside]:!1,[F.today]:!1},k={};for(const T in D){const R=D[T];_[T]=R.some(P=>P===v)}for(const T in B)k[T]=B[T].some(R=>R===v);return{..._,...k}}}function Cs(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[i])=>(n[i]?r.push(n[i]):t[F[i]]?r.push(t[F[i]]):t[te[i]]&&r.push(t[te[i]]),r),[t[y.Day]])}function Os(e){return g.createElement("button",{...e})}function Ts(e){return g.createElement("span",{...e})}function Ws(e){const{size:t=24,orientation:n="left",className:s}=e;return g.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&g.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&g.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&g.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&g.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Es(e){const{day:t,modifiers:n,...s}=e;return g.createElement("td",{...s})}function Bs(e){const{day:t,modifiers:n,...s}=e,r=g.useRef(null);return g.useEffect(()=>{n.focused&&r.current?.focus()},[n.focused]),g.createElement("button",{ref:r,...s})}function As(e){const{options:t,className:n,components:s,classNames:r,...i}=e,l=[r[y.Dropdown],n].join(" "),o=t?.find(({value:c})=>c===i.value);return g.createElement("span",{"data-disabled":i.disabled,className:r[y.DropdownRoot]},g.createElement(s.Select,{className:l,...i},t?.map(({value:c,label:d,disabled:f})=>g.createElement(s.Option,{key:c,value:c,disabled:f},d))),g.createElement("span",{className:r[y.CaptionLabel],"aria-hidden":!0},o?.label,g.createElement(s.Chevron,{orientation:"down",size:18,className:r[y.Chevron]})))}function Fs(e){return g.createElement("div",{...e})}function Is(e){return g.createElement("div",{...e})}function Rs(e){const{calendarMonth:t,displayIndex:n,...s}=e;return g.createElement("div",{...s},e.children)}function Ys(e){const{calendarMonth:t,displayIndex:n,...s}=e;return g.createElement("div",{...s})}function Ps(e){return g.createElement("table",{...e})}function zs(e){return g.createElement("div",{...e})}const Ot=j.createContext(void 0);function Be(){const e=j.useContext(Ot);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function $s(e){const{components:t}=Be();return g.createElement(t.Dropdown,{...e})}function qs(e){const{onPreviousClick:t,onNextClick:n,previousMonth:s,nextMonth:r,...i}=e,{components:l,classNames:o,labels:{labelPrevious:c,labelNext:d}}=Be(),f=j.useCallback(h=>{r&&n?.(h)},[r,n]),u=j.useCallback(h=>{s&&t?.(h)},[s,t]);return g.createElement("nav",{...i},g.createElement(l.PreviousMonthButton,{type:"button",className:o[y.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":c(s),onClick:u},g.createElement(l.Chevron,{disabled:s?void 0:!0,className:o[y.Chevron],orientation:"left"})),g.createElement(l.NextMonthButton,{type:"button",className:o[y.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:f},g.createElement(l.Chevron,{disabled:r?void 0:!0,orientation:"right",className:o[y.Chevron]})))}function Hs(e){const{components:t}=Be();return g.createElement(t.Button,{...e})}function Zs(e){return g.createElement("option",{...e})}function Ls(e){const{components:t}=Be();return g.createElement(t.Button,{...e})}function Gs(e){const{rootRef:t,...n}=e;return g.createElement("div",{...n,ref:t})}function Us(e){return g.createElement("select",{...e})}function Ks(e){const{week:t,...n}=e;return g.createElement("tr",{...n})}function Qs(e){return g.createElement("th",{...e})}function Vs(e){return g.createElement("thead",{"aria-hidden":!0},g.createElement("tr",{...e}))}function Js(e){const{week:t,...n}=e;return g.createElement("th",{...n})}function Xs(e){return g.createElement("th",{...e})}function ea(e){return g.createElement("tbody",{...e})}function ta(e){const{components:t}=Be();return g.createElement(t.Dropdown,{...e})}const na=Object.freeze(Object.defineProperty({__proto__:null,Button:Os,CaptionLabel:Ts,Chevron:Ws,Day:Es,DayButton:Bs,Dropdown:As,DropdownNav:Fs,Footer:Is,Month:Rs,MonthCaption:Ys,MonthGrid:Ps,Months:zs,MonthsDropdown:$s,Nav:qs,NextMonthButton:Hs,Option:Zs,PreviousMonthButton:Ls,Root:Gs,Select:Us,Week:Ks,WeekNumber:Js,WeekNumberHeader:Xs,Weekday:Qs,Weekdays:Vs,Weeks:ea,YearsDropdown:ta},Symbol.toStringTag,{value:"Module"}));function sa(e){return{...na,...e}}function aa(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,s])=>{n.startsWith("data-")&&(t[n]=s)}),t}function it(){const e={};for(const t in y)e[y[t]]=`rdp-${y[t]}`;for(const t in F)e[F[t]]=`rdp-${F[t]}`;for(const t in te)e[te[t]]=`rdp-${te[t]}`;for(const t in K)e[K[t]]=`rdp-${K[t]}`;return e}function Tt(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const ra=Tt;function oa(e,t,n){return(n??new me(t)).format(e,"d")}function ia(e,t=oe){return t.format(e,"LLLL")}function la(e,t=oe){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function ca(){return""}function da(e,t,n){return(n??new me(t)).format(e,"cccccc")}function Wt(e,t=oe){return t.format(e,"yyyy")}const ua=Wt,fa=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Tt,formatDay:oa,formatMonthCaption:ra,formatMonthDropdown:ia,formatWeekNumber:la,formatWeekNumberHeader:ca,formatWeekdayName:da,formatYearCaption:ua,formatYearDropdown:Wt},Symbol.toStringTag,{value:"Module"}));function ma(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...fa,...e}}function ha(e,t,n,s,r){const{startOfMonth:i,startOfYear:l,endOfYear:o,eachMonthOfInterval:c,getMonth:d}=r;return c({start:l(e),end:o(e)}).map(h=>{const m=s.formatMonthDropdown(h,r),x=d(h),p=t&&h<i(t)||n&&h>i(n)||!1;return{value:x,label:m,disabled:p}})}function pa(e,t={},n={}){let s={...t?.[y.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{s={...s,...n?.[r]}}),s}function xa(e,t,n){const s=e.today(),r=t?e.startOfISOWeek(s):e.startOfWeek(s),i=[];for(let l=0;l<7;l++){const o=e.addDays(r,l);i.push(o)}return i}function ga(e,t,n,s){if(!e||!t)return;const{startOfYear:r,endOfYear:i,addYears:l,getYear:o,isBefore:c,isSameYear:d}=s,f=r(e),u=i(t),h=[];let m=f;for(;c(m,u)||d(m,u);)h.push(m),m=l(m,1);return h.map(x=>{const p=n.formatYearDropdown(x,s);return{value:o(x),label:p,disabled:!1}})}function Et(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const ya=Et;function va(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function Bt(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const ba=Bt;function wa(){return""}function Na(e){return"Choose the Month"}function Ma(e){return"Go to the Next Month"}function ja(e){return"Go to the Previous Month"}function Da(e,t,n){return(n??new me(t)).format(e,"cccc")}function _a(e,t){return`Week ${e}`}function ka(e){return"Week Number"}function Sa(e){return"Choose the Year"}const Ca=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:ya,labelDay:ba,labelDayButton:Bt,labelGrid:Et,labelGridcell:va,labelMonthDropdown:Na,labelNav:wa,labelNext:Ma,labelPrevious:ja,labelWeekNumber:_a,labelWeekNumberHeader:ka,labelWeekday:Da,labelYearDropdown:Sa},Symbol.toStringTag,{value:"Module"})),Ae=e=>e instanceof HTMLElement?e:null,et=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Oa=e=>Ae(e.querySelector("[data-animated-month]")),tt=e=>Ae(e.querySelector("[data-animated-caption]")),nt=e=>Ae(e.querySelector("[data-animated-weeks]")),Ta=e=>Ae(e.querySelector("[data-animated-nav]")),Wa=e=>Ae(e.querySelector("[data-animated-weekdays]"));function Ea(e,t,{classNames:n,months:s,focused:r,dateLib:i}){const l=j.useRef(null),o=j.useRef(s),c=j.useRef(!1);j.useLayoutEffect(()=>{const d=o.current;if(o.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||d.length===0||s.length!==d.length)return;const f=i.isSameMonth(s[0].date,d[0].date),u=i.isAfter(s[0].date,d[0].date),h=u?n[K.caption_after_enter]:n[K.caption_before_enter],m=u?n[K.weeks_after_enter]:n[K.weeks_before_enter],x=l.current,p=e.current.cloneNode(!0);if(p instanceof HTMLElement?(et(p).forEach(D=>{if(!(D instanceof HTMLElement))return;const B=Oa(D);B&&D.contains(B)&&D.removeChild(B);const v=tt(D);v&&v.classList.remove(h);const _=nt(D);_&&_.classList.remove(m)}),l.current=p):l.current=null,c.current||f||r)return;const w=x instanceof HTMLElement?et(x):[],N=et(e.current);if(N&&N.every(O=>O instanceof HTMLElement)&&w&&w.every(O=>O instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const O=Ta(e.current);O&&(O.style.zIndex="1"),N.forEach((D,B)=>{const v=w[B];if(!v)return;D.style.position="relative",D.style.overflow="hidden";const _=tt(D);_&&_.classList.add(h);const k=nt(D);k&&k.classList.add(m);const T=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),O&&(O.style.zIndex=""),_&&_.classList.remove(h),k&&k.classList.remove(m),D.style.position="",D.style.overflow="",D.contains(v)&&D.removeChild(v)};v.style.pointerEvents="none",v.style.position="absolute",v.style.overflow="hidden",v.setAttribute("aria-hidden","true");const R=Wa(v);R&&(R.style.opacity="0");const P=tt(v);P&&(P.classList.add(u?n[K.caption_before_exit]:n[K.caption_after_exit]),P.addEventListener("animationend",T));const Y=nt(v);Y&&Y.classList.add(u?n[K.weeks_before_exit]:n[K.weeks_after_exit]),D.insertBefore(v,D.firstChild)})}})}function Ba(e,t,n,s){const r=e[0],i=e[e.length-1],{ISOWeek:l,fixedWeeks:o,broadcastCalendar:c}=n??{},{addDays:d,differenceInCalendarDays:f,differenceInCalendarMonths:u,endOfBroadcastWeek:h,endOfISOWeek:m,endOfMonth:x,endOfWeek:p,isAfter:w,startOfBroadcastWeek:N,startOfISOWeek:O,startOfWeek:D}=s,B=c?N(r,s):l?O(r):D(r),v=c?h(i):l?m(x(i)):p(x(i)),_=f(v,B),k=u(i,r)+1,T=[];for(let Y=0;Y<=_;Y++){const H=d(B,Y);if(t&&w(H,t))break;T.push(H)}const P=(c?35:42)*k;if(o&&T.length<P){const Y=P-T.length;for(let H=0;H<Y;H++){const q=d(T[T.length-1],1);T.push(q)}}return T}function Aa(e){const t=[];return e.reduce((n,s)=>{const r=s.weeks.reduce((i,l)=>[...i,...l.days],t);return[...n,...r]},t)}function Fa(e,t,n,s){const{numberOfMonths:r=1}=n,i=[];for(let l=0;l<r;l++){const o=s.addMonths(e,l);if(t&&o>t)break;i.push(o)}return i}function gt(e,t,n,s){const{month:r,defaultMonth:i,today:l=s.today(),numberOfMonths:o=1}=e;let c=r||i||l;const{differenceInCalendarMonths:d,addMonths:f,startOfMonth:u}=s;if(n&&d(n,c)<o-1){const h=-1*(o-1);c=f(n,h)}return t&&d(c,t)<0&&(c=t),u(c)}function Ia(e,t,n,s){const{addDays:r,endOfBroadcastWeek:i,endOfISOWeek:l,endOfMonth:o,endOfWeek:c,getISOWeek:d,getWeek:f,startOfBroadcastWeek:u,startOfISOWeek:h,startOfWeek:m}=s,x=e.reduce((p,w)=>{const N=n.broadcastCalendar?u(w,s):n.ISOWeek?h(w):m(w),O=n.broadcastCalendar?i(w):n.ISOWeek?l(o(w)):c(o(w)),D=t.filter(k=>k>=N&&k<=O),B=n.broadcastCalendar?35:42;if(n.fixedWeeks&&D.length<B){const k=t.filter(T=>{const R=B-D.length;return T>O&&T<=r(O,R)});D.push(...k)}const v=D.reduce((k,T)=>{const R=n.ISOWeek?d(T):f(T),P=k.find(H=>H.weekNumber===R),Y=new jt(T,w,s);return P?P.days.push(Y):k.push(new ks(R,[Y])),k},[]),_=new _s(w,v);return p.push(_),p},[]);return n.reverseMonths?x.reverse():x}function Ra(e,t){let{startMonth:n,endMonth:s}=e;const{startOfYear:r,startOfDay:i,startOfMonth:l,endOfMonth:o,addYears:c,endOfYear:d,newDate:f,today:u}=t,{fromYear:h,toYear:m,fromMonth:x,toMonth:p}=e;!n&&x&&(n=x),!n&&h&&(n=t.newDate(h,0,1)),!s&&p&&(s=p),!s&&m&&(s=f(m,11,31));const w=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):h?n=f(h,0,1):!n&&w&&(n=r(c(e.today??u(),-100))),s?s=o(s):m?s=f(m,11,31):!s&&w&&(s=d(e.today??u())),[n&&i(n),s&&i(s)]}function Ya(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i=1}=n,{startOfMonth:l,addMonths:o,differenceInCalendarMonths:c}=s,d=r?i:1,f=l(e);if(!t)return o(f,d);if(!(c(t,e)<i))return o(f,d)}function Pa(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i}=n,{startOfMonth:l,addMonths:o,differenceInCalendarMonths:c}=s,d=r?i??1:1,f=l(e);if(!t)return o(f,-d);if(!(c(f,t)<=0))return o(f,-d)}function za(e){const t=[];return e.reduce((n,s)=>[...n,...s.weeks],t)}function Ze(e,t){const[n,s]=j.useState(e);return[t===void 0?n:t,s]}function $a(e,t){const[n,s]=Ra(e,t),{startOfMonth:r,endOfMonth:i}=t,l=gt(e,n,s,t),[o,c]=Ze(l,e.month?l:void 0);j.useEffect(()=>{const _=gt(e,n,s,t);c(_)},[e.timeZone]);const d=Fa(o,s,e,t),f=Ba(d,e.endMonth?i(e.endMonth):void 0,e,t),u=Ia(d,f,e,t),h=za(u),m=Aa(u),x=Pa(o,n,e,t),p=Ya(o,s,e,t),{disableNavigation:w,onMonthChange:N}=e,O=_=>h.some(k=>k.days.some(T=>T.isEqualTo(_))),D=_=>{if(w)return;let k=r(_);n&&k<r(n)&&(k=r(n)),s&&k>r(s)&&(k=r(s)),c(k),N?.(k)};return{months:u,weeks:h,days:m,navStart:n,navEnd:s,previousMonth:x,nextMonth:p,goToMonth:D,goToDay:_=>{O(_)||D(_.date)}}}var ae;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ae||(ae={}));function yt(e){return!e[F.disabled]&&!e[F.hidden]&&!e[F.outside]}function qa(e,t,n,s){let r,i=-1;for(const l of e){const o=t(l);yt(o)&&(o[F.focused]&&i<ae.FocusedModifier?(r=l,i=ae.FocusedModifier):s?.isEqualTo(l)&&i<ae.LastFocused?(r=l,i=ae.LastFocused):n(l.date)&&i<ae.Selected?(r=l,i=ae.Selected):o[F.today]&&i<ae.Today&&(r=l,i=ae.Today))}return r||(r=e.find(l=>yt(t(l)))),r}function Ha(e,t,n,s,r,i,l){const{ISOWeek:o,broadcastCalendar:c}=i,{addDays:d,addMonths:f,addWeeks:u,addYears:h,endOfBroadcastWeek:m,endOfISOWeek:x,endOfWeek:p,max:w,min:N,startOfBroadcastWeek:O,startOfISOWeek:D,startOfWeek:B}=l;let _={day:d,week:u,month:f,year:h,startOfWeek:k=>c?O(k,l):o?D(k):B(k),endOfWeek:k=>c?m(k):o?x(k):p(k)}[e](n,t==="after"?1:-1);return t==="before"&&s?_=w([s,_]):t==="after"&&r&&(_=N([r,_])),_}function At(e,t,n,s,r,i,l,o=0){if(o>365)return;const c=Ha(e,t,n.date,s,r,i,l),d=!!(i.disabled&&fe(c,i.disabled,l)),f=!!(i.hidden&&fe(c,i.hidden,l)),u=c,h=new jt(c,u,l);return!d&&!f?h:At(e,t,h,s,r,i,l,o+1)}function Za(e,t,n,s,r){const{autoFocus:i}=e,[l,o]=j.useState(),c=qa(t.days,n,s||(()=>!1),l),[d,f]=j.useState(i?c:void 0);return{isFocusTarget:p=>!!c?.isEqualTo(p),setFocused:f,focused:d,blur:()=>{o(d),f(void 0)},moveFocus:(p,w)=>{if(!d)return;const N=At(p,w,d,t.navStart,t.navEnd,e,r);N&&(t.goToDay(N),f(N))}}}function La(e,t){const{selected:n,required:s,onSelect:r}=e,[i,l]=Ze(n,r?n:void 0),o=r?n:i,{isSameDay:c}=t,d=m=>o?.some(x=>c(x,m))??!1,{min:f,max:u}=e;return{selected:o,select:(m,x,p)=>{let w=[...o??[]];if(d(m)){if(o?.length===f||s&&o?.length===1)return;w=o?.filter(N=>!c(N,m))}else o?.length===u?w=[m]:w=[...w,m];return r||l(w),r?.(w,m,x,p),w},isSelected:d}}function Ga(e,t,n=0,s=0,r=!1,i=oe){const{from:l,to:o}=t||{},{isSameDay:c,isAfter:d,isBefore:f}=i;let u;if(!l&&!o)u={from:e,to:n>0?void 0:e};else if(l&&!o)c(l,e)?r?u={from:l,to:void 0}:u=void 0:f(e,l)?u={from:e,to:l}:u={from:l,to:e};else if(l&&o)if(c(l,e)&&c(o,e))r?u={from:l,to:o}:u=void 0;else if(c(l,e))u={from:l,to:n>0?void 0:e};else if(c(o,e))u={from:e,to:n>0?void 0:e};else if(f(e,l))u={from:e,to:o};else if(d(e,l))u={from:l,to:e};else if(d(e,o))u={from:l,to:e};else throw new Error("Invalid range");if(u?.from&&u?.to){const h=i.differenceInCalendarDays(u.to,u.from);s>0&&h>s?u={from:e,to:void 0}:n>1&&h<n&&(u={from:e,to:void 0})}return u}function Ua(e,t,n=oe){const s=Array.isArray(t)?t:[t];let r=e.from;const i=n.differenceInCalendarDays(e.to,e.from),l=Math.min(i,6);for(let o=0;o<=l;o++){if(s.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function vt(e,t,n=oe){return ue(e,t.from,!1,n)||ue(e,t.to,!1,n)||ue(t,e.from,!1,n)||ue(t,e.to,!1,n)}function Ka(e,t,n=oe){const s=Array.isArray(t)?t:[t];if(s.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:n.isDate(o)?ue(e,o,!1,n):Ct(o,n)?o.some(c=>ue(e,c,!1,n)):ot(o)?o.from&&o.to?vt(e,{from:o.from,to:o.to},n):!1:St(o)?Ua(e,o.dayOfWeek,n):Dt(o)?n.isAfter(o.before,o.after)?vt(e,{from:n.addDays(o.after,1),to:n.addDays(o.before,-1)},n):fe(e.from,o,n)||fe(e.to,o,n):_t(o)||kt(o)?fe(e.from,o,n)||fe(e.to,o,n):!1))return!0;const l=s.filter(o=>typeof o=="function");if(l.length){let o=e.from;const c=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=c;d++){if(l.some(f=>f(o)))return!0;o=n.addDays(o,1)}}return!1}function Qa(e,t){const{disabled:n,excludeDisabled:s,selected:r,required:i,onSelect:l}=e,[o,c]=Ze(r,l?r:void 0),d=l?r:o;return{selected:d,select:(h,m,x)=>{const{min:p,max:w}=e,N=h?Ga(h,d,p,w,i,t):void 0;return s&&n&&N?.from&&N.to&&Ka({from:N.from,to:N.to},n,t)&&(N.from=h,N.to=void 0),l||c(N),l?.(N,h,m,x),N},isSelected:h=>d&&ue(d,h,!1,t)}}function Va(e,t){const{selected:n,required:s,onSelect:r}=e,[i,l]=Ze(n,r?n:void 0),o=r?n:i,{isSameDay:c}=t;return{selected:o,select:(u,h,m)=>{let x=u;return!s&&o&&o&&c(u,o)&&(x=void 0),r||l(x),r?.(x,u,h,m),x},isSelected:u=>o?c(o,u):!1}}function Ja(e,t){const n=Va(e,t),s=La(e,t),r=Qa(e,t);switch(e.mode){case"single":return n;case"multiple":return s;case"range":return r;default:return}}function Xa(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new $(t.today,t.timeZone)),t.month&&(t.month=new $(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new $(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new $(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new $(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new $(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(S=>new $(S,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new $(t.selected.from,t.timeZone):void 0,to:t.selected.to?new $(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:s,labels:r,dateLib:i,locale:l,classNames:o}=j.useMemo(()=>{const S={...bt,...t.locale};return{dateLib:new me({locale:S,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:sa(t.components),formatters:ma(t.formatters),labels:{...Ca,...t.labels},locale:S,classNames:{...it(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:c,mode:d,navLayout:f,numberOfMonths:u=1,onDayBlur:h,onDayClick:m,onDayFocus:x,onDayKeyDown:p,onDayMouseEnter:w,onDayMouseLeave:N,onNextClick:O,onPrevClick:D,showWeekNumber:B,styles:v}=t,{formatCaption:_,formatDay:k,formatMonthDropdown:T,formatWeekNumber:R,formatWeekNumberHeader:P,formatWeekdayName:Y,formatYearDropdown:H}=s,q=$a(t,i),{days:ne,months:ie,navStart:le,navEnd:ke,previousMonth:Z,nextMonth:L,goToMonth:X}=q,Se=Ss(ne,t,le,ke,i),{isSelected:Ce,select:xe,selected:ge}=Ja(t,i)??{},{blur:Fe,focused:Ie,isFocusTarget:Re,moveFocus:Me,setFocused:J}=Za(t,q,Se,Ce??(()=>!1),i),{labelDayButton:M,labelGridcell:b,labelGrid:I,labelMonthDropdown:je,labelNav:G,labelPrevious:U,labelNext:ye,labelWeekday:Le,labelWeekNumber:It,labelWeekNumberHeader:Rt,labelYearDropdown:Yt}=r,Pt=j.useMemo(()=>xa(i,t.ISOWeek),[i,t.ISOWeek]),lt=d!==void 0||m!==void 0,Ge=j.useCallback(()=>{Z&&(X(Z),D?.(Z))},[Z,X,D]),Ue=j.useCallback(()=>{L&&(X(L),O?.(L))},[X,L,O]),zt=j.useCallback((S,A)=>W=>{W.preventDefault(),W.stopPropagation(),J(S),xe?.(S.date,A,W),m?.(S.date,A,W)},[xe,m,J]),$t=j.useCallback((S,A)=>W=>{J(S),x?.(S.date,A,W)},[x,J]),qt=j.useCallback((S,A)=>W=>{Fe(),h?.(S.date,A,W)},[Fe,h]),Ht=j.useCallback((S,A)=>W=>{const he={ArrowLeft:[W.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[W.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[W.shiftKey?"year":"week","after"],ArrowUp:[W.shiftKey?"year":"week","before"],PageUp:[W.shiftKey?"year":"month","before"],PageDown:[W.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(he[W.key]){W.preventDefault(),W.stopPropagation();const[ee,Ye]=he[W.key];Me(ee,Ye)}p?.(S.date,A,W)},[Me,p,t.dir]),Zt=j.useCallback((S,A)=>W=>{w?.(S.date,A,W)},[w]),Lt=j.useCallback((S,A)=>W=>{N?.(S.date,A,W)},[N]),Gt=j.useCallback(S=>A=>{const W=Number(A.target.value),he=i.setMonth(i.startOfMonth(S),W);X(he)},[i,X]),Ut=j.useCallback(S=>A=>{const W=Number(A.target.value),he=i.setYear(i.startOfMonth(S),W);X(he)},[i,X]),{className:Kt,style:Qt}=j.useMemo(()=>({className:[o[y.Root],t.className].filter(Boolean).join(" "),style:{...v?.[y.Root],...t.style}}),[o,t.className,t.style,v]),Vt=aa(t),ct=j.useRef(null);Ea(ct,!!t.animate,{classNames:o,months:ie,focused:Ie,dateLib:i});const Jt={dayPickerProps:t,selected:ge,select:xe,isSelected:Ce,months:ie,nextMonth:L,previousMonth:Z,goToMonth:X,getModifiers:Se,components:n,classNames:o,styles:v,labels:r,formatters:s};return g.createElement(Ot.Provider,{value:Jt},g.createElement(n.Root,{rootRef:t.animate?ct:void 0,className:Kt,style:Qt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...Vt},g.createElement(n.Months,{className:o[y.Months],style:v?.[y.Months]},!t.hideNavigation&&!f&&g.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[y.Nav],style:v?.[y.Nav],"aria-label":G(),onPreviousClick:Ge,onNextClick:Ue,previousMonth:Z,nextMonth:L}),ie.map((S,A)=>{const W=ha(S.date,le,ke,s,i),he=ga(le,ke,s,i);return g.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:o[y.Month],style:v?.[y.Month],key:A,displayIndex:A,calendarMonth:S},f==="around"&&!t.hideNavigation&&A===0&&g.createElement(n.PreviousMonthButton,{type:"button",className:o[y.PreviousMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":U(Z),onClick:Ge,"data-animated-button":t.animate?"true":void 0},g.createElement(n.Chevron,{disabled:Z?void 0:!0,className:o[y.Chevron],orientation:t.dir==="rtl"?"right":"left"})),g.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[y.MonthCaption],style:v?.[y.MonthCaption],calendarMonth:S,displayIndex:A},c?.startsWith("dropdown")?g.createElement(n.DropdownNav,{className:o[y.Dropdowns],style:v?.[y.Dropdowns]},c==="dropdown"||c==="dropdown-months"?g.createElement(n.MonthsDropdown,{className:o[y.MonthsDropdown],"aria-label":je(),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:Gt(S.date),options:W,style:v?.[y.Dropdown],value:i.getMonth(S.date)}):g.createElement("span",null,T(S.date,i)),c==="dropdown"||c==="dropdown-years"?g.createElement(n.YearsDropdown,{className:o[y.YearsDropdown],"aria-label":Yt(i.options),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:Ut(S.date),options:he,style:v?.[y.Dropdown],value:i.getYear(S.date)}):g.createElement("span",null,H(S.date,i)),g.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},_(S.date,i.options,i))):g.createElement(n.CaptionLabel,{className:o[y.CaptionLabel],role:"status","aria-live":"polite"},_(S.date,i.options,i))),f==="around"&&!t.hideNavigation&&A===u-1&&g.createElement(n.NextMonthButton,{type:"button",className:o[y.NextMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":ye(L),onClick:Ue,"data-animated-button":t.animate?"true":void 0},g.createElement(n.Chevron,{disabled:L?void 0:!0,className:o[y.Chevron],orientation:t.dir==="rtl"?"left":"right"})),A===u-1&&f==="after"&&!t.hideNavigation&&g.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[y.Nav],style:v?.[y.Nav],"aria-label":G(),onPreviousClick:Ge,onNextClick:Ue,previousMonth:Z,nextMonth:L}),g.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":I(S.date,i.options,i)||void 0,className:o[y.MonthGrid],style:v?.[y.MonthGrid]},!t.hideWeekdays&&g.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[y.Weekdays],style:v?.[y.Weekdays]},B&&g.createElement(n.WeekNumberHeader,{"aria-label":Rt(i.options),className:o[y.WeekNumberHeader],style:v?.[y.WeekNumberHeader],scope:"col"},P()),Pt.map((ee,Ye)=>g.createElement(n.Weekday,{"aria-label":Le(ee,i.options,i),className:o[y.Weekday],key:Ye,style:v?.[y.Weekday],scope:"col"},Y(ee,i.options,i)))),g.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[y.Weeks],style:v?.[y.Weeks]},S.weeks.map((ee,Ye)=>g.createElement(n.Week,{className:o[y.Week],key:ee.weekNumber,style:v?.[y.Week],week:ee},B&&g.createElement(n.WeekNumber,{week:ee,style:v?.[y.WeekNumber],"aria-label":It(ee.weekNumber,{locale:l}),className:o[y.WeekNumber],scope:"row",role:"rowheader"},R(ee.weekNumber,i)),ee.days.map(z=>{const{date:se}=z,E=Se(z);if(E[F.focused]=!E.hidden&&!!Ie?.isEqualTo(z),E[te.selected]=Ce?.(se)||E.selected,ot(ge)){const{from:Ke,to:Qe}=ge;E[te.range_start]=!!(Ke&&Qe&&i.isSameDay(se,Ke)),E[te.range_end]=!!(Ke&&Qe&&i.isSameDay(se,Qe)),E[te.range_middle]=ue(ge,se,!0,i)}const Xt=pa(E,v,t.modifiersStyles),en=Cs(E,o,t.modifiersClassNames),tn=!lt&&!E.hidden?b(se,E,i.options,i):void 0;return g.createElement(n.Day,{key:`${i.format(se,"yyyy-MM-dd")}_${i.format(z.displayMonth,"yyyy-MM")}`,day:z,modifiers:E,className:en.join(" "),style:Xt,role:"gridcell","aria-selected":E.selected||void 0,"aria-label":tn,"data-day":i.format(se,"yyyy-MM-dd"),"data-month":z.outside?i.format(se,"yyyy-MM"):void 0,"data-selected":E.selected||void 0,"data-disabled":E.disabled||void 0,"data-hidden":E.hidden||void 0,"data-outside":z.outside||void 0,"data-focused":E.focused||void 0,"data-today":E.today||void 0},!E.hidden&&lt?g.createElement(n.DayButton,{className:o[y.DayButton],style:v?.[y.DayButton],type:"button",day:z,modifiers:E,disabled:E.disabled||void 0,tabIndex:Re(z)?0:-1,"aria-label":M(se,E,i.options,i),onClick:zt(z,E),onBlur:qt(z,E),onFocus:$t(z,E),onKeyDown:Ht(z,E),onMouseEnter:Zt(z,E),onMouseLeave:Lt(z,E)},k(se,i.options,i)):!E.hidden&&k(z.date,i.options,i))}))))))})),t.footer&&g.createElement(n.Footer,{className:o[y.Footer],style:v?.[y.Footer],role:"status","aria-live":"polite"},t.footer)))}function er({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:s="label",buttonVariant:r="ghost",formatters:i,components:l,...o}){const c=it();return a.jsx(Xa,{showOutsideDays:n,className:C("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:s,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:C("w-fit",c.root),months:C("flex gap-4 flex-col md:flex-row relative",c.months),month:C("flex flex-col w-full gap-4",c.month),nav:C("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:C(dt({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:C(dt({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:C("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",c.month_caption),dropdowns:C("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",c.dropdowns),dropdown_root:C("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:C("absolute bg-popover inset-0 opacity-0",c.dropdown),caption_label:C("select-none font-medium",s==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:C("flex",c.weekdays),weekday:C("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:C("flex w-full mt-2",c.week),week_number_header:C("select-none w-(--cell-size)",c.week_number_header),week_number:C("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:C("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:C("rounded-l-md bg-accent",c.range_start),range_middle:C("rounded-none",c.range_middle),range_end:C("rounded-r-md bg-accent",c.range_end),today:C("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:C("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:C("text-muted-foreground opacity-50",c.disabled),hidden:C("invisible",c.hidden),...t},components:{Root:({className:d,rootRef:f,...u})=>a.jsx("div",{"data-slot":"calendar",ref:f,className:C(d),...u}),Chevron:({className:d,orientation:f,...u})=>f==="left"?a.jsx(ts,{className:C("size-4",d),...u}):f==="right"?a.jsx(Ee,{className:C("size-4",d),...u}):a.jsx(qe,{className:C("size-4",d),...u}),DayButton:tr,WeekNumber:({children:d,...f})=>a.jsx("td",{...f,children:a.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:d})}),...l},...o})}function tr({className:e,day:t,modifiers:n,...s}){const r=it(),i=j.useRef(null);return j.useEffect(()=>{n.focused&&i.current?.focus()},[n.focused]),a.jsx(be,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:C("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",r.day,e),...s})}function nr({...e}){return a.jsx(pn,{"data-slot":"popover",...e})}function sr({...e}){return a.jsx(xn,{"data-slot":"popover-trigger",...e})}function ar({className:e,align:t="center",sideOffset:n=4,...s}){return a.jsx(gn,{children:a.jsx(yn,{"data-slot":"popover-content",align:t,sideOffset:n,className:C("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}function rr({day:e,setDay:t,startTime:n,setStartTime:s,rrRounds:r,setRrRounds:i,intervalMin:l,setIntervalMin:o,lunchDurationMin:c,setLunchDurationMin:d,desiredLunchTime:f,setDesiredLunchTime:u,onGenerate:h,onClearAll:m,status:x}){return a.jsxs(Q,{children:[a.jsx(ce,{children:a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(wt,{className:"h-5 w-5"}),"Schedule Configuration"]})}),a.jsxs(V,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Ne,{className:"h-4 w-4"}),"Event Details"]}),a.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"event-day",children:"Event Day"}),a.jsxs(nr,{children:[a.jsx(sr,{asChild:!0,children:a.jsxs(be,{variant:"outline",className:"w-full justify-start font-normal",children:[a.jsx(Ne,{className:"mr-2 h-4 w-4"}),e?e.toDateString():"Pick a date"]})}),a.jsx(ar,{align:"start",className:"p-0",children:a.jsx(er,{mode:"single",selected:e,onSelect:t,initialFocus:!0,required:!0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"start-time",children:"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx($e,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ve,{id:"start-time",type:"time",value:n,onChange:p=>s(p.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"rr-rounds",children:"Round-Robin Rounds"}),a.jsx(ve,{id:"rr-rounds",type:"number",min:1,value:r,onChange:p=>i(Number(p.target.value))})]})]})]}),a.jsx(st,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx($e,{className:"h-4 w-4"}),"Match Settings"]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"interval",children:"Minutes Between Matches"}),a.jsxs(Ve,{children:[a.jsx(Je,{asChild:!0,children:a.jsx(ve,{id:"interval",type:"number",min:1,value:l,onChange:p=>o(p.target.value)})}),a.jsx(Xe,{children:a.jsx("p",{children:"Time gap between consecutive matches"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"lunch-duration",children:"Lunch Duration (minutes)"}),a.jsxs(Ve,{children:[a.jsx(Je,{asChild:!0,children:a.jsx(ve,{id:"lunch-duration",type:"number",min:15,value:c,onChange:p=>d(Number(p.target.value))})}),a.jsx(Xe,{children:a.jsx("p",{children:"Duration of lunch break"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"desired-lunch-time",children:"Desired Lunch Time"}),a.jsxs(Ve,{children:[a.jsx(Je,{asChild:!0,children:a.jsx(ve,{id:"desired-lunch-time",type:"time",value:f,onChange:p=>u(p.target.value)})}),a.jsx(Xe,{children:a.jsx("p",{children:"Preferred time for lunch break (HH:MM format)"})})]})]})]})]}),a.jsx(st,{}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(be,{onClick:h,size:"lg",className:"px-6",children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Generate Schedule"]}),a.jsxs(be,{variant:"destructive",onClick:()=>{confirm(` DANGER: This will permanently delete ALL schedule data and matches from the database. This action cannot be undone.

Are you absolutely sure you want to continue?`)&&m()},className:"px-6",size:"lg",children:[a.jsx(ns,{className:"mr-2 h-4 w-4"}),"Clear All Data"]})]}),x&&a.jsx("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:x})})]})]})}function Ft({block:e,blockIndex:t,isExpanded:n,onToggle:s,allianceName:r}){if(e.activity.type!=="matches")return null;const i=e.activity;return a.jsxs(Q,{children:[a.jsx(ce,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>s(t),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(de,{className:"text-lg font-semibold",children:["Round ",i.round+1," - Starting at ",we(new Date(e.startTime))]}),n?a.jsx(qe,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Ee,{className:"h-5 w-5 text-muted-foreground"})]})}),n&&a.jsx(V,{children:a.jsx("ul",{className:"grid gap-2",children:i.matches.map((l,o)=>a.jsx("li",{children:a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-bold",children:o+1}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-red-600 font-medium",children:r(l.red_alliance_id)}),a.jsx("span",{className:"text-muted-foreground",children:"vs"}),a.jsx("span",{className:"text-blue-600 font-medium",children:r(l.blue_alliance_id)})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:we(l.scheduled_at)})]})},`${l.scheduled_at.toISOString()}-${o}`))})})]})}function or({generatedBlocks:e,expandedRounds:t,onSave:n,onToggleRound:s,allianceName:r,isSaving:i}){return e.length===0?a.jsx(Q,{children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(He,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{children:"No generated schedule yet."}),a.jsx("p",{className:"text-sm",children:"Go to the Configuration tab to generate a schedule."})]})})}):a.jsxs("div",{className:"flex-1 flex flex-col space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Generated Schedule"}),a.jsx(be,{onClick:n,size:"lg",className:"px-6",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Save to Database"]})})]}),a.jsx(rt,{className:"flex-1",children:a.jsx("div",{className:"space-y-4 pr-4",children:e.map((l,o)=>a.jsx("div",{children:l.activity.type==="matches"?a.jsx(Ft,{block:l,blockIndex:o,isExpanded:t.has(o),onToggle:s,allianceName:r}):a.jsxs(Q,{children:[a.jsx(ce,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>s(o),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(de,{className:"text-lg font-semibold text-yellow-700",children:" Lunch Break"}),t.has(o)?a.jsx(qe,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Ee,{className:"h-5 w-5 text-muted-foreground"})]})}),t.has(o)&&a.jsx(V,{children:a.jsxs("div",{className:"text-muted-foreground",children:["Starting at ",we(new Date(l.startTime))," -"," ",l.activity.duration," minutes"]})})]})},o))})})]})}function ir({doubleEliminationBracket:e,allianceRankings:t,doubleEliminationStartTime:n,setDoubleEliminationStartTime:s,doubleEliminationInterval:r,setDoubleEliminationInterval:i,onGenerate:l,status:o,allianceName:c}){return a.jsxs("div",{className:"flex-1 flex flex-col space-y-4",children:[a.jsxs(Q,{children:[a.jsx(ce,{children:a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"h-5 w-5"}),"Double Elimination Tournament"]})}),a.jsxs(V,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx($e,{className:"h-4 w-4"}),"Tournament Settings"]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"de-start-time",children:"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx($e,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ve,{id:"de-start-time",type:"time",value:n,onChange:d=>s(d.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(pe,{htmlFor:"de-interval",children:"Minutes Between Matches"}),a.jsx(ve,{id:"de-interval",type:"number",min:5,value:r,onChange:d=>i(d.target.value)})]})]})]}),a.jsx(st,{}),a.jsx("div",{className:"flex gap-4",children:a.jsxs(be,{onClick:l,size:"lg",className:"px-6",children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Generate Tournament"]})}),o&&a.jsx("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:o})})]})]}),t.length>0&&a.jsxs(Q,{children:[a.jsx(ce,{children:a.jsx(de,{children:"Round Robin Rankings"})}),a.jsx(V,{children:a.jsx("div",{className:"space-y-2",children:t.map(d=>a.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-sm font-bold",children:d.rank}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:d.alliance_name}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.wins,"W - ",d.losses,"L (",d.win_percentage.toFixed(1),"%) "," ",d.total_matches," matches"]})]})]})},d.alliance_id))})})]}),e&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Q,{children:[a.jsx(ce,{children:a.jsx(de,{className:"text-green-700",children:"Winners Bracket"})}),a.jsx(V,{children:a.jsx("div",{className:"space-y-4",children:e.winners_bracket.map((d,f)=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:d.description}),a.jsx("div",{className:"grid gap-2",children:d.matches.map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-sm font-mono text-muted-foreground",children:["Match ",u.match_number]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 font-medium",children:c(u.red_alliance_id)||"TBD"}),a.jsx("span",{className:"text-muted-foreground",children:"vs"}),a.jsx("span",{className:"text-blue-600 font-medium",children:c(u.blue_alliance_id)||"TBD"})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:we(u.scheduled_at)})]},u.id))})]},f))})})]}),a.jsxs(Q,{children:[a.jsx(ce,{children:a.jsx(de,{className:"text-orange-700",children:"Losers Bracket"})}),a.jsx(V,{children:a.jsx("div",{className:"space-y-4",children:e.losers_bracket.map((d,f)=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm text-muted-foreground",children:d.description}),a.jsx("div",{className:"grid gap-2",children:d.matches.map(u=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-sm font-mono text-muted-foreground",children:["Match ",u.match_number]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 font-medium",children:c(u.red_alliance_id)||"TBD"}),a.jsx("span",{className:"text-muted-foreground",children:"vs"}),a.jsx("span",{className:"text-blue-600 font-medium",children:c(u.blue_alliance_id)||"TBD"})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:we(u.scheduled_at)})]},u.id))})]},f))})})]}),e.finals.length>0&&a.jsxs(Q,{children:[a.jsx(ce,{children:a.jsx(de,{className:"text-purple-700",children:"Finals (Best of 3)"})}),a.jsx(V,{children:a.jsx("div",{className:"space-y-2",children:e.finals.map((d,f)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-purple-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-sm font-mono text-muted-foreground",children:["Finals Game ",f+1," (Best of 3)"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-600 font-medium",children:c(d.red_alliance_id)||"TBD"}),a.jsx("span",{className:"text-muted-foreground",children:"vs"}),a.jsx("span",{className:"text-blue-600 font-medium",children:c(d.blue_alliance_id)||"TBD"})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:we(d.scheduled_at)})]},d.id))})})]})]})]})}function lr({scheduleError:e,hasExistingData:t,scheduleLoading:n,transformedExistingSchedule:s,expandedRounds:r,onToggleRound:i,allianceName:l}){return e?a.jsx(Q,{children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsx(Ne,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{children:"Error loading schedule"}),a.jsx("p",{className:"text-sm",children:e.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This might be due to database permissions. Check the browser console for details."})]})})}):t?a.jsx(rt,{className:"flex-1",children:a.jsxs("div",{className:"space-y-4 pr-4",children:[n&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading schedule..."})]}),s.map((o,c)=>a.jsx("div",{children:o.activity.type==="matches"?a.jsx(Ft,{block:o,blockIndex:c,isExpanded:r.has(c),onToggle:i,allianceName:l}):a.jsxs(Q,{children:[a.jsx(ce,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>i(c),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(de,{className:"text-lg font-semibold text-yellow-700",children:" Lunch Break"}),r.has(c)?a.jsx(qe,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Ee,{className:"h-5 w-5 text-muted-foreground"})]})}),r.has(c)&&a.jsx(V,{children:a.jsxs("div",{className:"text-muted-foreground",children:["Starting at ",we(new Date(o.startTime))," -"," ",o.activity.duration," minutes"]})})]})},c))]})}):a.jsx(Q,{children:a.jsx(V,{className:"pt-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Ne,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{children:"No existing schedule found."}),a.jsx("p",{className:"text-sm",children:"Generate and save a schedule to see it here."})]})})})}function cr(e,t){return e.map(n=>{if(n.type==="match"&&n.match_ids&&n.match_ids.length>0){const s=n.match_ids.map(l=>t.find(o=>o.id===l)).filter(l=>l!==void 0).map((l,o)=>({id:l.id,red_alliance_id:l.red_alliance_id,blue_alliance_id:l.blue_alliance_id,scheduled_at:l.scheduled_at?new Date(l.scheduled_at):new Date,round:o+1})),r=n.name.match(/Round (\d+)/),i=r?parseInt(r[1])-1:0;return{startTime:n.start_time,activity:{type:"matches",matches:s,round:i}}}else if(n.type==="lunch_break"){const s=n.end_time?Math.round((new Date(n.end_time).getTime()-new Date(n.start_time).getTime())/6e4):60;return{startTime:n.start_time,activity:{type:"lunch",duration:s}}}else return{startTime:n.start_time,activity:{type:"matches",matches:[],round:0}}})}const _e={day:new Date,startTime:"09:00",rrRounds:4,intervalMin:"10",lunchDurationMin:60,desiredLunchTime:"12:00"};function Mr(){const[e,t]=j.useState(null),n=Jn(),{data:s}=ut({queryKey:["auth","user"],queryFn:async()=>{const{data:{user:M}}=await De.auth.getUser();return{user:M}}}),r=s?.user,[i,l]=j.useState(_e.day),[o,c]=j.useState(_e.startTime),[d,f]=j.useState(_e.rrRounds),[u,h]=j.useState(_e.intervalMin),[m,x]=j.useState(_e.lunchDurationMin),[p,w]=j.useState(_e.desiredLunchTime),[N,O]=j.useState([]),[D,B]=j.useState(new Set),[v,_]=j.useState(null),[k,T]=j.useState([]),[R,P]=j.useState("14:00"),[Y,H]=j.useState("15"),{alliances:q}=Xn(),{matches:ne}=es(),{rankings:ie}=Vn(),{data:le=[],isLoading:ke,error:Z}=ut({queryKey:["schedule","list"],queryFn:async()=>{const{data:M,error:b}=await De.from("schedule").select("*").order("start_time");if(b)throw console.error("Schedule query error:",b),b;return console.log("Schedule data loaded:",M?.length||0,"records"),M??[]}}),L=j.useMemo(()=>{if(le.length===0)return[];const M=ne.map(b=>({id:b.id,name:b.name,red_alliance_id:b.red_alliance_id,blue_alliance_id:b.blue_alliance_id,scheduled_at:b.scheduled_at,red_score:b.red_score,blue_score:b.blue_score,red_auto_score:b.red_auto_score,blue_auto_score:b.blue_auto_score,red_coral_rp:!!b.red_coral_rp,red_auto_rp:!!b.red_auto_rp,red_barge_rp:!!b.red_barge_rp,blue_coral_rp:!!b.blue_coral_rp,blue_auto_rp:!!b.blue_auto_rp,blue_barge_rp:!!b.blue_barge_rp,created_at:new Date().toISOString()}));return cr(le,M)},[le,ne]),X=le.length>0;function Se(){if(t(null),O([]),!i||!o||!u||!d){t("Please pick the event day, start time, interval, and number of rounds.");return}if(q.length<2){t("Need at least 2 alliances.");return}try{const b=us(q,{day:i,startTime:o,intervalMin:u,rrRounds:d,lunchDurationMin:m,desiredLunchTime:p});O(b)}catch(M){t(`Generation failed: ${M instanceof Error?M.message:"Unknown error"}`)}}function Ce(){if(t(null),_(null),q.length<2){t("Need at least 2 alliances for double elimination tournament.");return}try{if(ne.length===0){t("No match data available. Please generate a round robin schedule first.");return}if(ie.length===0){t("No rankings data available. Please ensure matches have been played.");return}const M=ie.map(U=>({alliance_id:U.id,alliance_name:U.name,wins:U.wins,losses:U.losses,win_percentage:U.played>0?U.wins/U.played*100:0,total_matches:U.played,rank:U.rank}));T(M);const b=new Date(i),[I,je]=R.split(":").map(Number);b.setHours(I,je,0,0);const G=ps(M,b,parseInt(Y));_(G),t(`Double elimination tournament generated with ${G.total_matches} matches across ${G.total_rounds} rounds.`)}catch(M){t(`Double elimination generation failed: ${M instanceof Error?M.message:"Unknown error"}`)}}const xe=j.useMemo(()=>N.filter(M=>M.activity.type==="matches").flatMap(M=>M.activity.matches),[N]),ge=ft({mutationFn:async M=>{const{error:b}=await De.from("matches").insert(M);if(b)throw b;return!0},onSuccess:(M,b)=>{t(`Saved ${b.length} matches.`),n.invalidateQueries({queryKey:["matches","polling"]})},onError:M=>{t(`Save failed: ${M?.message??"Unknown error"}`)}});function Fe(){if(xe.length===0)return;t("Saving schedule to database...");const M=xe.map((b,I)=>({id:b.id,name:`Round ${b.round} - Match ${I+1}`,red_alliance_id:b.red_alliance_id,blue_alliance_id:b.blue_alliance_id,scheduled_at:b.scheduled_at.toISOString(),red_score:null,blue_score:null,red_auto_score:null,blue_auto_score:null,red_coral_rp:!1,red_auto_rp:!1,red_barge_rp:!1,blue_coral_rp:!1,blue_auto_rp:!1,blue_barge_rp:!1}));ge.mutateAsync(M).then(()=>{const b=N.map((I,je)=>{if(I.activity.type==="matches"){const G=je===0?0:N.slice(0,je).filter(ye=>ye.activity.type==="matches").reduce((ye,Le)=>ye+Le.activity.matches.length,0),U=xe.slice(G,G+I.activity.matches.length).map(ye=>ye.id);return{start_time:I.startTime,end_time:null,name:`Round ${I.activity.round+1}`,description:`${I.activity.matches.length} matches`,type:"match",match_ids:U}}else{const G=new Date(I.startTime);return G.setMinutes(G.getMinutes()+I.activity.duration),{start_time:I.startTime,end_time:G.toISOString(),name:"Lunch Break",description:`${I.activity.duration} minutes`,type:"lunch_break",match_ids:null}}});De.from("schedule").insert(b).then(({error:I})=>{I?t(` Failed to save schedule: ${I.message}`):(t(" Schedule saved successfully! You can now view it in the Existing Schedule tab."),n.invalidateQueries({queryKey:["schedule","list"]}))})}).catch(b=>{t(` Failed to save matches: ${b.message||"Unknown error"}`)})}const Ie=ft({mutationFn:async()=>{const{error:M}=await De.from("schedule").delete().gte("id","00000000-0000-0000-0000-000000000000");if(M)throw M;const{error:b}=await De.from("matches").delete().gte("id","00000000-0000-0000-0000-000000000000");if(b)throw b;return!0},onSuccess:()=>{t("All schedule data cleared."),O([]),n.invalidateQueries({queryKey:["schedule","list"]}),n.invalidateQueries({queryKey:["matches","polling"]})},onError:M=>{t(`Clear failed: ${M?.message??"Unknown error"}`)}});function Re(M){const b=new Set(D);b.has(M)?b.delete(M):b.add(M),B(b)}function Me(M){return q.find(b=>b.id===M)?.name??`Alliance ${M}`}const J=j.useMemo(()=>{if(N.length===0)return null;const b=N.filter(I=>I.activity.type==="matches").flatMap(I=>I.activity.matches);return hs(b,q)},[N,q]);return a.jsx(vn,{children:a.jsxs("div",{className:"h-screen flex flex-col space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Schedule"})}),r&&J&&a.jsxs(os,{children:[a.jsx(is,{asChild:!0,children:a.jsxs(be,{variant:"outline",className:"w-full justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(as,{className:"h-4 w-4"}),"Schedule Statistics"]}),a.jsx(Ee,{className:"h-4 w-4"})]})}),a.jsx(ls,{children:a.jsx(Q,{className:"mt-2",children:a.jsxs(V,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:J.totalMatches}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Matches"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:J.totalRounds}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Rounds"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.floor(J.totalMatches/J.totalRounds)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Matches per Round"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:J.avgMatchesPerAlliance.toFixed(1)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg per Alliance"})]})]}),a.jsx(rt,{className:"h-64",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left",children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Alliance"}),a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Matches"}),a.jsx("th",{className:"py-2 pr-4 font-medium text-red-600",children:"Red"}),a.jsx("th",{className:"py-2 pr-4 font-medium text-blue-600",children:"Blue"}),a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Avg Turnaround"}),a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Range"})]})}),a.jsx("tbody",{children:J.rows.map(M=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-2 pr-4 font-medium",children:M.name}),a.jsx("td",{className:"py-2 pr-4",children:M.matches}),a.jsx("td",{className:"py-2 pr-4 text-red-600 font-medium",children:M.redMatches}),a.jsx("td",{className:"py-2 pr-4 text-blue-600 font-medium",children:M.blueMatches}),a.jsxs("td",{className:"py-2 pr-4",children:[M.avgMinutes," min"]}),a.jsxs("td",{className:"py-2 pr-4 text-muted-foreground",children:[M.minMinutes,"-",M.maxMinutes," min"]})]},M.id))})]})})]})})})]}),a.jsxs(cs,{defaultValue:r?"config":"existing",className:"flex-1 flex flex-col space-y-4",children:[a.jsxs(ds,{className:`grid w-full ${r?"grid-cols-4":"grid-cols-1"}`,children:[r&&a.jsxs(a.Fragment,{children:[a.jsxs(Pe,{value:"config",className:"flex items-center gap-2",children:[a.jsx(wt,{className:"h-4 w-4"}),"Configuration"]}),a.jsxs(Pe,{value:"generated",className:"flex items-center gap-2",children:[a.jsx(He,{className:"h-4 w-4"}),"Round Robin"]}),a.jsxs(Pe,{value:"double-elimination",className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"h-4 w-4"}),"Double Elimination"]})]}),a.jsxs(Pe,{value:"existing",className:"flex items-center gap-2",children:[a.jsx(Ne,{className:"h-4 w-4"}),"Existing Schedule"]})]}),r&&a.jsx(ze,{value:"config",className:"flex-1 space-y-6",children:a.jsx(rr,{day:i,setDay:l,startTime:o,setStartTime:c,rrRounds:d,setRrRounds:f,intervalMin:u,setIntervalMin:h,lunchDurationMin:m,setLunchDurationMin:x,desiredLunchTime:p,setDesiredLunchTime:w,onGenerate:Se,onClearAll:()=>Ie.mutate(),status:e,alliances:q})}),r&&a.jsx(ze,{value:"generated",className:"flex-1 flex flex-col space-y-4",children:a.jsx(or,{generatedBlocks:N,expandedRounds:D,setExpandedRounds:B,onSave:Fe,onToggleRound:Re,allianceName:Me,isSaving:ge.isPending})}),a.jsx(ze,{value:"existing",className:"flex-1 flex flex-col space-y-4",children:a.jsx(lr,{scheduleError:Z,hasExistingData:X,scheduleLoading:ke,transformedExistingSchedule:L,expandedRounds:D,onToggleRound:Re,allianceName:Me})}),r&&a.jsx(ze,{value:"double-elimination",className:"flex-1 flex flex-col space-y-4",children:a.jsx(ir,{doubleEliminationBracket:v,allianceRankings:k,doubleEliminationStartTime:R,setDoubleEliminationStartTime:P,doubleEliminationInterval:Y,setDoubleEliminationInterval:H,onGenerate:Ce,status:e,allianceName:Me})})]})]})})}export{Mr as default};
