import{w as b,j as e,t as d,r as p}from"./index-BmdevC1f.js";import{B as f}from"./button-0VHX3KvR.js";import{C as g,a as _,b as j,c as N}from"./card--BeEpeTn.js";import{c as v}from"./rankings-2yAB9IBR.js";import{u as k}from"./use-alliances-polling-C7wt8F3W.js";import{u as y}from"./use-matches-polling-C0trMDUD.js";import"./useQuery-Cgu6KS9_.js";import"./react-yI-qG6nv.js";import"./matches-store-DsfI4gDF.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],E=b("maximize",w);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],R=b("minimize",M);function C({className:l,...a}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:d("w-full caption-bottom text-sm",l),...a})})}function T({className:l,...a}){return e.jsx("thead",{"data-slot":"table-header",className:d("[&_tr]:border-b",l),...a})}function F({className:l,...a}){return e.jsx("tbody",{"data-slot":"table-body",className:d("[&_tr:last-child]:border-0",l),...a})}function x({className:l,...a}){return e.jsx("tr",{"data-slot":"table-row",className:d("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",l),...a})}function n({className:l,...a}){return e.jsx("th",{"data-slot":"table-head",className:d("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),...a})}function o({className:l,...a}){return e.jsx("td",{"data-slot":"table-cell",className:d("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),...a})}function z({rows:l,showWLT:a=!1,showRank:i=!0,size:c="sm",className:h}){const s=c==="lg"?"py-4 px-4":"py-1 pr-3";return e.jsx("div",{className:h,children:e.jsxs(C,{children:[e.jsx(T,{className:c==="lg"?"sticky top-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60":"opacity-70",children:e.jsxs(x,{className:c==="lg"?"border-b":"",children:[i&&e.jsx(n,{className:s,children:"Rank"}),e.jsx(n,{className:s,children:"Alliance"}),e.jsx(n,{className:s,children:"Played"}),a&&e.jsx(n,{className:s,children:"W-L-T"}),e.jsx(n,{className:s,children:"Avg RP"}),e.jsx(n,{className:s.replace("pr-3",""),children:"Avg Score"})]})}),e.jsx(F,{children:l.map((t,u)=>e.jsxs(x,{className:c==="lg"?`${u%2===0?"bg-muted/30":""}`:"border-t",children:[i&&e.jsx(o,{className:s+" font-medium",children:t.rank??u+1}),e.jsx(o,{className:s,children:t.name}),e.jsx(o,{className:s,children:t.played}),a&&e.jsxs(o,{className:s,children:[t.wins??0,"-",t.losses??0,"-",t.ties??0]}),e.jsx(o,{className:s,children:t.avgRp.toFixed(3)}),e.jsx(o,{className:s.replace("pr-3",""),children:t.avgScore.toFixed(1)})]},t.id))})]})})}function q(){const{alliances:l}=k(),{matches:a}=y(),i=p.useMemo(()=>{const m=a.map(r=>({id:r.id,red_alliance_id:r.red_alliance_id,blue_alliance_id:r.blue_alliance_id,red_score:r.red_score,blue_score:r.blue_score,red_coral_rp:!!r.red_coral_rp,red_auto_rp:!!r.red_auto_rp,red_barge_rp:!!r.red_barge_rp,blue_coral_rp:!!r.blue_coral_rp,blue_auto_rp:!!r.blue_auto_rp,blue_barge_rp:!!r.blue_barge_rp}));return v(l,m)},[l,a]),c=!1,h=null,[s,t]=p.useState(!!document.fullscreenElement);p.useEffect(()=>{const m=()=>t(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",m),()=>document.removeEventListener("fullscreenchange",m)},[]);function u(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}return e.jsx("div",{className:"min-h-dvh w-full p-6 md:p-8 lg:p-10 flex flex-col gap-6 overflow-hidden",children:e.jsxs(g,{children:[e.jsx(_,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{className:"text-4xl md:text-5xl font-bold tracking-tight",children:"Rankings"}),e.jsx(f,{variant:"ghost",size:"icon",onClick:u,className:"rounded-full size-12","aria-label":s?"Exit full screen":"Enter full screen",title:s?"Exit full screen":"Enter full screen",children:s?e.jsx(R,{className:"size-6"}):e.jsx(E,{className:"size-6"})})]})}),e.jsxs(N,{className:"pt-0",children:[c,h,e.jsx("div",{className:"overflow-auto rounded-lg border",children:e.jsx(z,{rows:i,showWLT:!0,showRank:!0,size:"lg"})})]})]})})}export{q as default};
