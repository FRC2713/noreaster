import{j as a}from"./index-BWEwia79.js";import{M as _}from"./match-card-Dcnfpu4h.js";import{u as d}from"./useQuery-D_U6HrCA.js";import{s as n}from"./client-DPZQ4aUR.js";async function p(){const{data:s,error:r}=await n.from("alliances").select("id, name").order("name");if(r)throw r;return s??[]}async function f(){const{data:s,error:r}=await n.from("matches").select("id, red_alliance_id, blue_alliance_id, scheduled_at, red_score, blue_score, red_coral_rp, red_algae_rp, red_barge_rp, blue_coral_rp, blue_algae_rp, blue_barge_rp").order("scheduled_at",{ascending:!0});if(r)throw r;return s??[]}function y(){const{data:s=[],isLoading:r,error:o}=d({queryKey:["alliances","list"],queryFn:p}),{data:c=[],isLoading:u,error:h}=d({queryKey:["matches","list"],queryFn:f});function l(e){return s.find(m=>m.id===e)?.name??e}const i=r||u,t=o||h;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Matches"}),i&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loadingâ€¦"}),t&&a.jsx("p",{className:"text-sm text-red-600",children:String(t)}),!i&&!t&&a.jsx("div",{className:"grid gap-3",children:c.length===0?a.jsx("p",{className:"text-muted-foreground",children:"No matches yet. Use the Schedule page to create matches."}):a.jsx("ul",{className:"grid gap-2",children:c.map(e=>a.jsx("li",{children:a.jsx(_,{scheduledAt:e.scheduled_at,redName:l(e.red_alliance_id),blueName:l(e.blue_alliance_id),redScore:e.red_score,blueScore:e.blue_score,showRelativeTime:!0,editHref:`/matches/${e.id}`})},e.id))})})]})}export{y as default};
