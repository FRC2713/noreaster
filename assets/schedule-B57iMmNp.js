const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/virtualized-schedule-C6KLyT2Q.js","assets/ui-vendor-CDBhOMS0.js","assets/react-vendor-CNeAGCso.js","assets/index-DiB4IOcY.js","assets/supabase-vendor-B8N91wlh.js","assets/utils-vendor-DCj5grse.js","assets/icons-vendor-Dor2AXrm.js","assets/query-vendor-BivveeUn.js","assets/index-U5XPQecN.css","assets/card-DJYwy_Ja.js","assets/use-alliances-polling-CkMOygQH.js","assets/use-smart-polling-Dq1UeSm6.js","assets/use-matches-polling-DH2tC6oT.js","assets/label-DqMwsflx.js","assets/skeleton-DzP459aa.js","assets/scroll-area-zEkyaNmJ.js","assets/badge-DSDoCdJ3.js"])))=>i.map(i=>d[i]);
import{j as a,z as pn,B as bn,E as xn,F as gn,G as vn,H as yn,J as wn,K as Nn,M as Mn,N as jn,Q as kn}from"./ui-vendor-CDBhOMS0.js";import{c as x,r as k}from"./react-vendor-CNeAGCso.js";import{c as F,t as L,b as wt,B as fe,T as Je,h as Xe,i as et,j as ke,s as Ie,k as Dn,D as _n,l as Sn,m as Cn,n as An,o as Nt,p as tt}from"./index-DiB4IOcY.js";import{C as V,b as de,a as K,c as Oe}from"./card-DJYwy_Ja.js";import{v as Pt,b as On,d as Tn,e as Fn,f as Wn,g as En,h as In,i as Bn,j as Pn,k as Rn,l as zn,m as Yn,n as $n,o as Ln,p as qn,q as Hn,r as Zn,s as Gn,u as Un,w as Kn,x as Vn,y as Qn,z as Jn,A as Xn,B as es,C as ts,D as ns,E as ss,F as as,G as rs,H as os,I as is,J as Rt}from"./utils-vendor-DCj5grse.js";import{u as ls,c as Mt,b as jt}from"./query-vendor-BivveeUn.js";import{u as ot}from"./use-alliances-polling-CkMOygQH.js";import{u as cs}from"./use-matches-polling-DH2tC6oT.js";import{i as ds,j as Pe,k as He,C as Be,a as nt,l as pt,m as us,I as ms,E as fs,R as hs,D as ps,n as bs,e as xs,c as gs,d as vs}from"./icons-vendor-Dor2AXrm.js";import{L as je,I as Se}from"./label-DqMwsflx.js";import{S as P}from"./skeleton-DzP459aa.js";import{_ as ys}from"./supabase-vendor-B8N91wlh.js";import{S as st}from"./scroll-area-zEkyaNmJ.js";import{B as at}from"./badge-DSDoCdJ3.js";function ws({className:e,...t}){return a.jsx(pn,{"data-slot":"tabs",className:F("flex flex-col gap-2",e),...t})}function Ns({className:e,...t}){return a.jsx(bn,{"data-slot":"tabs-list",className:F("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function kt({className:e,...t}){return a.jsx(xn,{"data-slot":"tabs-trigger",className:F("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Dt({className:e,...t}){return a.jsx(gn,{"data-slot":"tabs-content",className:F("flex-1 outline-none",e),...t})}function _t(e,t){const[s,n]=t.split(":").map(i=>Number(i)),r=new Date(e);return r.setHours(s??0,n??0,0,0),r.toISOString()}function Ms(e,t){if(e.length<2)throw new Error("Need at least 2 alliances.");const s=js(e),n=ks(s,e,t.rrRounds),r=new Date(_t(t.day,t.desiredLunchTime)),i=[];let c=!1;const o=new Date(_t(t.day,t.startTime));for(let l=0;l<t.rrRounds;l++){const d=new Date(o);!c&&d>=r&&(i.push({startTime:d.toISOString(),duration:t.lunchDurationMin,activity:{type:"lunch",duration:t.lunchDurationMin}}),c=!0,o.setMinutes(o.getMinutes()+t.lunchDurationMin));const u=[];n.forEach(h=>{const p=l%2===0?h.red:h.blue,y=l%2===0?h.blue:h.red,N={id:Pt(),red_alliance_id:p.id,blue_alliance_id:y.id,scheduled_at:new Date(o).toISOString(),round:l+1,match_type:"round_robin"};u.push(N),o.setMinutes(o.getMinutes()+parseInt(t.intervalMin))});const m={startTime:d.toISOString(),duration:n.length*parseInt(t.intervalMin),activity:{type:"matches",round:l,matches:u}};i.push(m)}if(!c&&i.length>0&&i.push({startTime:o.toISOString(),duration:t.lunchDurationMin,activity:{type:"lunch",duration:t.lunchDurationMin}}),t.enablePostOptimization!==!1)try{const l=Os(i,e),d=rt(i),u=rt(l);return d.length===u.length?l:(console.warn("Post-optimization changed match count, reverting to original"),i)}catch(l){return console.error("Post-optimization failed, using original schedule:",l),i}return i}function js(e){if(e.length<2)return[];const t=[],s=[...e];for(;s.length>1;){for(let n=1;n<s.length;n++){const r=s[0],i=s[n];t.push({red:r,blue:i})}s.shift()}return t}function ks(e,t,s){if(e.length<=1)return e;const n=[Ds(e),_s(e,t,s),Ss(e)];let r=n[0],i=Ae(r,t,s);for(let o=1;o<n.length;o++){const l=Ae(n[o],t,s);l<i&&(i=l,r=n[o])}const c=Cs(r,t,s);return As(c,t,s)}function Ds(e){const t=[],s=[...e];for(t.push(s.shift());s.length>0;){const n=t[t.length-1],r=new Set([n.red.id,n.blue.id]);let i=-1;for(let c=0;c<s.length;c++){const o=s[c];if(![...new Set([o.red.id,o.blue.id])].some(u=>r.has(u))){i=c;break}}i===-1&&(i=0),t.push(s.splice(i,1)[0])}return t}function _s(e,t,s){const n=[],r=[...e],i=new Map;for(const c of t)i.set(c.id,0);for(n.push(r.shift());r.length>0;){const c=n[n.length-1],o=new Set([c.red.id,c.blue.id]);let l=-1,d=1/0;for(let p=0;p<r.length;p++){const y=r[p],N=new Set([y.red.id,y.blue.id]),f=[...N].some(M=>o.has(M));let v=0;if(f){for(const M of N)if(o.has(M)){const g=i.get(M)||0;v+=100+g*50}}else v-=75;if(n.length===e.length-1&&s>1){const M=e[0],g=new Set([M.red.id,M.blue.id]);[...N].some(b=>g.has(b))&&(v+=100*s)}v<d&&(d=v,l=p)}const u=r.splice(l,1)[0];n.push(u);const m=new Set([u.red.id,u.blue.id]);if([...m].some(p=>o.has(p)))for(const p of m)o.has(p)&&i.set(p,(i.get(p)||0)+1)}return n}function Ss(e){const t=[...e];for(let s=t.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[t[s],t[n]]=[t[n],t[s]]}return t}function Ae(e,t,s){const n=new Map;for(const d of t)n.set(d.id,0);const r=[];for(let d=0;d<s;d++)e.forEach(u=>{const m=d%2===0?u.red.id:u.blue.id,h=d%2===0?u.blue.id:u.red.id;r.push({red:m,blue:h})});for(let d=0;d<r.length-1;d++){const u=r[d],m=r[d+1],h=new Set([u.red,u.blue]),p=new Set([m.red,m.blue]);for(const y of h)p.has(y)&&n.set(y,(n.get(y)||0)+1)}const i=Array.from(n.values());if(i.length===0)return 0;const c=i.reduce((d,u)=>d+u,0)/i.length,o=i.reduce((d,u)=>d+Math.pow(u-c,2),0)/i.length,l=i.reduce((d,u)=>d+u,0);return o*1e3+l}function Cs(e,t,s){let n=[...e],r=Ae(n,t,s),i=!0,c=0;const o=50;for(;i&&c<o;){i=!1,c++;for(let l=0;l<n.length-1;l++){const d=[...n];[d[l],d[l+1]]=[d[l+1],d[l]];const u=Ae(d,t,s);if(u<r){n=d,r=u,i=!0;break}}if(!i&&c%5===0)for(let l=0;l<n.length-2;l++){for(let d=l+2;d<n.length;d++){const u=[...n];[u[l],u[d]]=[u[d],u[l]];const m=Ae(u,t,s);if(m<r){n=u,r=m,i=!0;break}}if(i)break}}return n}function As(e,t,s){let n=[...e],r=!0,i=0;const c=100;for(;r&&i<c;){r=!1,i++;const o=Ae(n,t,s);for(let l=0;l<n.length-1;l++){for(let d=l+1;d<n.length;d++){const u=[...n];if([u[l],u[d]]=[u[d],u[l]],Ae(u,t,s)<o){n=u,r=!0;break}}if(r)break}}return n}function Os(e,t){try{const s=[...e];let n=!0,r=0;const i=50,c=parseInt(Ts(s));if(isNaN(c)||c<=0)return console.warn("Could not determine valid interval from blocks, skipping post-optimization"),e;for(;n&&r<i;){n=!1,r++;const o=rt(s),l=St(o,t);for(let d=0;d<s.length;d++){const u=s[d];if(u.activity.type!=="matches")continue;const m=u.activity.matches;if(!(m.length<2||!u.startTime)){for(let h=0;h<m.length-1;h++){for(let p=h+1;p<m.length;p++){[m[h],m[p]]=[m[p],m[h]],Ct(m,u.startTime,c);const y=rt(s);if(St(y,t)<l){n=!0;break}else[m[h],m[p]]=[m[p],m[h]],Ct(m,u.startTime,c)}if(n)break}if(n)break}}}return s}catch(s){return console.error("Error during post-optimization, returning original blocks:",s),e}}function rt(e){const t=[];for(const s of e)s.activity.type==="matches"&&t.push(...s.activity.matches);return t.sort((s,n)=>{const r=s.scheduled_at?new Date(s.scheduled_at).getTime():0,i=n.scheduled_at?new Date(n.scheduled_at).getTime():0,c=!isNaN(r),o=!isNaN(i);return!c&&!o?0:c?o?r-i:-1:1}),t}function St(e,t){const s=new Map;for(const o of t)s.set(o.id,0);for(let o=0;o<e.length-1;o++){const l=e[o],d=e[o+1],u=new Set([l.red_alliance_id,l.blue_alliance_id].filter(h=>!!h)),m=new Set([d.red_alliance_id,d.blue_alliance_id].filter(h=>!!h));for(const h of u)m.has(h)&&s.set(h,(s.get(h)||0)+1)}const n=Array.from(s.values());if(n.length===0)return 0;const r=n.reduce((o,l)=>o+l,0)/n.length,i=n.reduce((o,l)=>o+Math.pow(l-r,2),0)/n.length,c=n.reduce((o,l)=>o+l,0);return i*1e3+c}function Ct(e,t,s){if(!t||isNaN(s)||s<=0){console.warn("Invalid parameters for reassignMatchTimes:",{roundStartTime:t,intervalMinutes:s});return}const n=new Date(t);if(isNaN(n.getTime())){console.warn("Invalid roundStartTime:",t);return}for(const r of e)r.scheduled_at=n.toISOString(),n.setMinutes(n.getMinutes()+s)}function Ts(e){for(const t of e)if(t.activity.type==="matches"&&t.activity.matches.length>=2){const s=t.activity.matches,n=s[0].scheduled_at,r=s[1].scheduled_at;if(n&&r){const i=new Date(n).getTime(),c=new Date(r).getTime();if(!isNaN(i)&&!isNaN(c)){const o=c-i,l=Math.round(o/6e4);if(l>0)return l.toString()}}}return"10"}function Fs(e,t,s){if(e.length===0)return null;const n=new Map,r=new Map,i=new Map,c=new Map;for(const f of e)!f.red_alliance_id||!f.blue_alliance_id||(n.set(f.red_alliance_id,(n.get(f.red_alliance_id)??0)+1),n.set(f.blue_alliance_id,(n.get(f.blue_alliance_id)??0)+1),r.set(f.red_alliance_id,(r.get(f.red_alliance_id)??0)+1),i.set(f.blue_alliance_id,(i.get(f.blue_alliance_id)??0)+1),[f.red_alliance_id,f.blue_alliance_id].forEach(v=>{const M=c.get(v)??[];f.scheduled_at&&M.push(new Date(f.scheduled_at).getTime()),c.set(v,M)}));const o=new Map,l=new Map,d=new Map,u=new Map,m=[...e];m.sort((f,v)=>{const M=f.scheduled_at?new Date(f.scheduled_at).getTime():0,g=v.scheduled_at?new Date(v.scheduled_at).getTime():0;return M-g});for(const f of t){let v=0;for(let M=0;M<m.length-1;M++){const g=m[M],T=m[M+1],b=g.red_alliance_id===f.id||g.blue_alliance_id===f.id,j=T.red_alliance_id===f.id||T.blue_alliance_id===f.id;b&&j&&v++}u.set(f.id,v)}for(const[f,v]of c.entries()){if(v.sort((g,T)=>g-T),v.length<=1){o.set(f,0),l.set(f,0),d.set(f,0);continue}const M=[];for(let g=1;g<v.length;g++){let T=(v[g]-v[g-1])/6e4;if(s){const b=v[g-1],j=v[g];for(const D of s)if(D.activity.type==="lunch"){const A=new Date(D.startTime).getTime(),W=A+D.duration*6e4;if(b<W&&j>A){const Y=Math.max(b,A),Z=(Math.min(j,W)-Y)/6e4;T-=Z}}}M.push(T)}if(M.length===0)o.set(f,0),l.set(f,0),d.set(f,0);else{const g=M.reduce((T,b)=>T+b,0);o.set(f,g/M.length),l.set(f,Math.min(...M)),d.set(f,Math.max(...M))}}const h=t.map(f=>({id:f.id,name:f.name,matches:n.get(f.id)??0,redMatches:r.get(f.id)??0,blueMatches:i.get(f.id)??0,avgMinutes:Number((o.get(f.id)??0).toFixed(1)),minMinutes:Number((l.get(f.id)??0).toFixed(1)),maxMinutes:Number((d.get(f.id)??0).toFixed(1)),backToBackMatches:u.get(f.id)??0})),p=e.length,y=Math.max(...e.map(f=>f.round??0),0),N=h.length?Number((p*2/h.length).toFixed(2)):0;return{rows:h,totalMatches:p,totalRounds:y,avgMatchesPerAlliance:N}}const Ws=[{id:1,bracket:0,round:1,matchNumber:1,redFrom:I(1),blueFrom:I(8),redAdvancement:{win:7,loss:5},blueAdvancement:{win:7,loss:5}},{id:2,bracket:0,round:1,matchNumber:2,redFrom:I(4),blueFrom:I(5),redAdvancement:{win:7,loss:5},blueAdvancement:{win:7,loss:5}},{id:3,bracket:0,round:1,matchNumber:3,redFrom:I(3),blueFrom:I(6),redAdvancement:{win:8,loss:6},blueAdvancement:{win:8,loss:6}},{id:4,bracket:0,round:1,matchNumber:4,redFrom:I(2),blueFrom:I(7),redAdvancement:{win:8,loss:6},blueAdvancement:{win:8,loss:6}},{id:5,bracket:1,round:2,matchNumber:5,redFrom:1,blueFrom:2,redAdvancement:{win:10,loss:"eliminated"},blueAdvancement:{win:10,loss:"eliminated"}},{id:6,bracket:1,round:2,matchNumber:6,redFrom:3,blueFrom:4,redAdvancement:{win:9,loss:"eliminated"},blueAdvancement:{win:9,loss:"eliminated"}},{id:7,bracket:0,round:2,matchNumber:7,redFrom:1,blueFrom:2,redAdvancement:{win:12,loss:9},blueAdvancement:{win:12,loss:9}},{id:8,bracket:0,round:2,matchNumber:8,redFrom:3,blueFrom:4,redAdvancement:{win:12,loss:10},blueAdvancement:{win:12,loss:10}},{id:9,bracket:1,round:3,matchNumber:9,redFrom:7,blueFrom:6,redAdvancement:{win:11,loss:"eliminated"},blueAdvancement:{win:11,loss:"eliminated"}},{id:10,bracket:1,round:3,matchNumber:10,redFrom:8,blueFrom:5,redAdvancement:{win:11,loss:"eliminated"},blueAdvancement:{win:11,loss:"eliminated"}},{id:11,bracket:1,round:4,matchNumber:11,redFrom:9,blueFrom:10,redAdvancement:{win:13,loss:"eliminated"},blueAdvancement:{win:13,loss:"eliminated"}},{id:12,bracket:0,round:4,matchNumber:12,redFrom:7,blueFrom:8,redAdvancement:{win:14,loss:13},blueAdvancement:{win:14,loss:13}},{id:13,bracket:1,round:5,matchNumber:13,redFrom:11,blueFrom:12,redAdvancement:{win:14,loss:"eliminated"},blueAdvancement:{win:14,loss:"eliminated"}},{id:14,bracket:0,round:6,matchNumber:14,redFrom:12,blueFrom:13,redAdvancement:{win:"champion",loss:15},blueAdvancement:{win:15,loss:"eliminated"}},{id:15,bracket:0,round:6,matchNumber:15,redFrom:14,blueFrom:14,redAdvancement:{win:"champion",loss:"eliminated"},blueAdvancement:{win:"champion",loss:"eliminated"}}],Es=[{id:1,bracket:0,round:1,matchNumber:1,redFrom:I(2),blueFrom:I(7),redAdvancement:{win:4,loss:3},blueAdvancement:{win:4,loss:3}},{id:2,bracket:0,round:1,matchNumber:2,redFrom:I(3),blueFrom:I(6),redAdvancement:{win:4,loss:3},blueAdvancement:{win:4,loss:3}},{id:3,bracket:0,round:1,matchNumber:3,redFrom:I(4),blueFrom:I(5),redAdvancement:{win:4,loss:3},blueAdvancement:{win:4,loss:3}},{id:4,bracket:0,round:2,matchNumber:4,redFrom:1,blueFrom:I(1),redAdvancement:{win:6,loss:5},blueAdvancement:{win:6,loss:5}},{id:5,bracket:0,round:2,matchNumber:5,redFrom:2,blueFrom:3,redAdvancement:{win:6,loss:5},blueAdvancement:{win:6,loss:5}},{id:6,bracket:1,round:3,matchNumber:6,redFrom:1,blueFrom:2,redAdvancement:{win:8,loss:"eliminated"},blueAdvancement:{win:8,loss:"eliminated"}},{id:7,bracket:1,round:3,matchNumber:7,redFrom:3,blueFrom:3,redAdvancement:{win:8,loss:"eliminated"},blueAdvancement:{win:8,loss:"eliminated"}},{id:8,bracket:0,round:4,matchNumber:8,redFrom:4,blueFrom:5,redAdvancement:{win:11,loss:9},blueAdvancement:{win:11,loss:9}},{id:9,bracket:1,round:5,matchNumber:9,redFrom:8,blueFrom:6,redAdvancement:{win:10,loss:"eliminated"},blueAdvancement:{win:10,loss:"eliminated"}},{id:10,bracket:1,round:5,matchNumber:10,redFrom:7,blueFrom:7,redAdvancement:{win:10,loss:"eliminated"},blueAdvancement:{win:10,loss:"eliminated"}},{id:11,bracket:1,round:6,matchNumber:11,redFrom:9,blueFrom:10,redAdvancement:{win:12,loss:"eliminated"},blueAdvancement:{win:12,loss:"eliminated"}},{id:12,bracket:0,round:7,matchNumber:12,redFrom:8,blueFrom:11,redAdvancement:{win:"champion",loss:13},blueAdvancement:{win:13,loss:"eliminated"}},{id:13,bracket:0,round:7,matchNumber:13,redFrom:12,blueFrom:12,redAdvancement:{win:"champion",loss:"eliminated"},blueAdvancement:{win:"champion",loss:"eliminated"}}],Is=[{id:1,bracket:0,round:1,matchNumber:1,redFrom:I(3),blueFrom:I(6),redAdvancement:{win:3,loss:2},blueAdvancement:{win:3,loss:2}},{id:2,bracket:0,round:1,matchNumber:2,redFrom:I(4),blueFrom:I(5),redAdvancement:{win:3,loss:2},blueAdvancement:{win:3,loss:2}},{id:3,bracket:0,round:2,matchNumber:3,redFrom:1,blueFrom:I(1),redAdvancement:{win:5,loss:4},blueAdvancement:{win:5,loss:4}},{id:4,bracket:0,round:2,matchNumber:4,redFrom:2,blueFrom:I(2),redAdvancement:{win:5,loss:4},blueAdvancement:{win:5,loss:4}},{id:5,bracket:1,round:3,matchNumber:5,redFrom:1,blueFrom:2,redAdvancement:{win:7,loss:"eliminated"},blueAdvancement:{win:7,loss:"eliminated"}},{id:6,bracket:0,round:4,matchNumber:6,redFrom:3,blueFrom:4,redAdvancement:{win:9,loss:7},blueAdvancement:{win:9,loss:7}},{id:7,bracket:1,round:5,matchNumber:7,redFrom:6,blueFrom:5,redAdvancement:{win:8,loss:"eliminated"},blueAdvancement:{win:8,loss:"eliminated"}},{id:8,bracket:1,round:6,matchNumber:8,redFrom:7,blueFrom:7,redAdvancement:{win:9,loss:"eliminated"},blueAdvancement:{win:9,loss:"eliminated"}},{id:9,bracket:0,round:7,matchNumber:9,redFrom:6,blueFrom:8,redAdvancement:{win:"champion",loss:10},blueAdvancement:{win:10,loss:"eliminated"}},{id:10,bracket:0,round:7,matchNumber:10,redFrom:9,blueFrom:9,redAdvancement:{win:"champion",loss:"eliminated"},blueAdvancement:{win:"champion",loss:"eliminated"}}],Bs=[{id:1,bracket:0,round:1,matchNumber:1,redFrom:I(2),blueFrom:I(5),redAdvancement:{win:3,loss:2},blueAdvancement:{win:3,loss:2}},{id:2,bracket:0,round:1,matchNumber:2,redFrom:I(3),blueFrom:I(4),redAdvancement:{win:3,loss:2},blueAdvancement:{win:3,loss:2}},{id:3,bracket:0,round:2,matchNumber:3,redFrom:1,blueFrom:I(1),redAdvancement:{win:5,loss:4},blueAdvancement:{win:5,loss:4}},{id:4,bracket:0,round:2,matchNumber:4,redFrom:2,blueFrom:2,redAdvancement:{win:5,loss:4},blueAdvancement:{win:5,loss:4}},{id:5,bracket:1,round:3,matchNumber:5,redFrom:1,blueFrom:2,redAdvancement:{win:7,loss:"eliminated"},blueAdvancement:{win:7,loss:"eliminated"}},{id:6,bracket:0,round:4,matchNumber:6,redFrom:3,blueFrom:4,redAdvancement:{win:9,loss:7},blueAdvancement:{win:9,loss:7}},{id:7,bracket:1,round:5,matchNumber:7,redFrom:6,blueFrom:5,redAdvancement:{win:8,loss:"eliminated"},blueAdvancement:{win:8,loss:"eliminated"}},{id:8,bracket:1,round:6,matchNumber:8,redFrom:7,blueFrom:7,redAdvancement:{win:9,loss:"eliminated"},blueAdvancement:{win:9,loss:"eliminated"}},{id:9,bracket:0,round:7,matchNumber:9,redFrom:6,blueFrom:8,redAdvancement:{win:"champion",loss:10},blueAdvancement:{win:10,loss:"eliminated"}},{id:10,bracket:0,round:7,matchNumber:10,redFrom:9,blueFrom:9,redAdvancement:{win:"champion",loss:"eliminated"},blueAdvancement:{win:"champion",loss:"eliminated"}}],Ps=[{id:1,bracket:0,round:1,matchNumber:1,redFrom:I(1),blueFrom:I(4),redAdvancement:{win:3,loss:4},blueAdvancement:{win:3,loss:4}},{id:2,bracket:0,round:1,matchNumber:2,redFrom:I(2),blueFrom:I(3),redAdvancement:{win:3,loss:4},blueAdvancement:{win:3,loss:4}},{id:3,bracket:0,round:2,matchNumber:3,redFrom:1,blueFrom:2,redAdvancement:{win:6,loss:5},blueAdvancement:{win:6,loss:5}},{id:4,bracket:1,round:2,matchNumber:4,redFrom:1,blueFrom:2,redAdvancement:{win:5,loss:"eliminated"},blueAdvancement:{win:5,loss:"eliminated"}},{id:5,bracket:1,round:3,matchNumber:5,redFrom:3,blueFrom:4,redAdvancement:{win:6,loss:"eliminated"},blueAdvancement:{win:6,loss:"eliminated"}},{id:6,bracket:0,round:4,matchNumber:6,redFrom:3,blueFrom:5,redAdvancement:{win:"champion",loss:7},blueAdvancement:{win:7,loss:"eliminated"}},{id:7,bracket:0,round:4,matchNumber:7,redFrom:6,blueFrom:6,redAdvancement:{win:"champion",loss:"eliminated"},blueAdvancement:{win:"champion",loss:"eliminated"}}],Rs={4:Ps,5:Bs,6:Is,7:Es,8:Ws};function zs(e){return e<0&&e>=-8}function I(e){return-e}function Ys(e){const t=new Map,s=new Map,n=new Map,r=new Map,i=new Map;return Ls(e).forEach(o=>{t.set(o.id,o),s.set(o.id,{redAllianceId:null,blueAllianceId:null,winner:null,isCompleted:!1}),n.has(o.round)||n.set(o.round,{upper:[],lower:[]});const l=n.get(o.round);o.bracket===0?l.upper.push(o.id):l.lower.push(o.id),r.set(o.id,{redAdvancement:o.redAdvancement,blueAdvancement:o.blueAdvancement}),[o.redAdvancement.win,o.redAdvancement.loss,o.blueAdvancement.win,o.blueAdvancement.loss].forEach(u=>{typeof u=="number"&&(i.has(u)||i.set(u,[]),i.get(u).push(o.id))})}),{matches:t,matchStates:s,rounds:n,adjacency:r,reverseAdjacency:i,initialMatches:[1,2,3,4],finalMatch:16}}class $s{bracket;constructor(t){this.bracket=Ys(t)}getMatch(t){return this.bracket.matches.get(t)}getMatches(){return Array.from(this.bracket.matches.values())}getMatchState(t){return this.bracket.matchStates.get(t)}getMatchesByRound(t){return this.bracket.rounds.get(t)||{upper:[],lower:[]}}getDependencies(t){return this.bracket.reverseAdjacency.get(t)||[]}getNextMatches(t){return this.bracket.adjacency.get(t)||{redAdvancement:{win:"eliminated",loss:"eliminated"},blueAdvancement:{win:"eliminated",loss:"eliminated"}}}isMatchReady(t){return this.getDependencies(t).every(n=>this.getMatchState(n)?.isCompleted===!0)}getReadyMatches(){return Array.from(this.bracket.matches.keys()).filter(s=>this.isMatchReady(s))}updateMatchResult(t,s,n,r){const i=this.bracket.matchStates.get(t);i&&(i.winner=s,i.redAllianceId=n,i.blueAllianceId=r,i.isCompleted=!0)}resolveMatchAlliances(t){const s=this.getMatch(t);if(!s)return{redAllianceId:null,blueAllianceId:null};const n=this.resolveAllianceFromSource(s.redFrom),r=this.resolveAllianceFromSource(s.blueFrom);return{redAllianceId:n,blueAllianceId:r}}resolveAllianceFromSource(t){if(zs(t))return null;const s=this.getMatch(t),n=this.getMatchState(t);return!s||!n||!n.isCompleted?null:n.winner==="red"?n.redAllianceId:n.blueAllianceId}getAdvancementForWinner(t,s){const n=this.getMatch(t);return n?s==="red"?n.redAdvancement.win:n.blueAdvancement.win:"eliminated"}getAdvancementForLoser(t,s){const n=this.getMatch(t);return n?s==="red"?n.redAdvancement.loss:n.blueAdvancement.loss:"eliminated"}isChampionshipWin(t,s){return this.getAdvancementForWinner(t,s)==="champion"}getMatchWithResolvedAlliances(t){const s=this.getMatch(t),n=this.getMatchState(t),r=this.resolveMatchAlliances(t);return{match:s,state:n,resolvedAlliances:r}}getCurrentChampion(){for(const[t,s]of this.bracket.matchStates)if(s.isCompleted&&s.winner&&this.isChampionshipWin(t,s.winner))return s.winner;return null}getAdvancementPath(t,s){const n=this.getAdvancementForWinner(t,s);return{advancement:n,isChampionship:n==="champion",nextMatchId:typeof n=="number"?n:null}}getAdvancementPathForLoser(t,s){const n=this.getAdvancementForLoser(t,s);return{advancement:n,isEliminated:n==="eliminated",nextMatchId:typeof n=="number"?n:null}}}function Ls(e){if(e<4||e>8)throw new Error("Number of alliances must be between 2 and 8");return Rs[e]}let At;function qs(e,t,s){if(e<2)throw new Error("At least 2 alliances are required for a double elimination tournament");const n=Hs(e);return At=new $s(e),{matches:At.getMatches().map((c,o)=>Gs(c,t,s,o,n))}}function Hs(e){const t=[];for(let s=0;s<e;s++)t.push(null);return t}function Zs(e,t){if(e.round===1){const s=Math.abs(e.redFrom)-1,n=Math.abs(e.blueFrom)-1;return{redAllianceId:t[s]||null,blueAllianceId:t[n]||null}}return{redAllianceId:null,blueAllianceId:null}}function Gs(e,t,s,n,r){const i=new Date(t);i.setMinutes(i.getMinutes()+n*s);const c=e.bracket===0?"upper":"lower",o=Us(),{redAllianceId:l,blueAllianceId:d}=Zs(e,r),u=void 0,m=void 0;return{id:o,red_alliance_id:l,blue_alliance_id:d,scheduled_at:i.toISOString(),round:e.round,match_type:"playoff",bracket:c,match_number:e.matchNumber,winner_advances_to:u,loser_advances_to:m}}function Us(){return Pt()}const Ot={success:(e,t)=>L.success(e,{description:t}),actionSuccess:e=>L.success(`${e} completed successfully!`),saveSuccess:(e="Changes")=>L.success(`${e} saved successfully!`),deleteSuccess:(e="Item")=>L.success(`${e} deleted successfully!`),error:(e,t)=>L.error(e,{description:t}),actionError:(e,t)=>L.error(`Failed to ${e.toLowerCase()}`,{description:t||"Please try again later."}),saveError:(e="Changes",t)=>L.error(`Failed to save ${e.toLowerCase()}`,{description:t||"Please check your input and try again."}),deleteError:(e="Item",t)=>L.error(`Failed to delete ${e.toLowerCase()}`,{description:t||"Please try again later."}),networkError:()=>L.error("Network Error",{description:"Please check your connection and try again."}),validationError:e=>L.error("Validation Error",{description:e?`Please check ${e} and try again.`:"Please check your input and try again."}),warning:(e,t)=>L.warning(e,{description:t}),unsavedChanges:()=>L.warning("Unsaved Changes",{description:"You have unsaved changes. Are you sure you want to leave?"}),confirmationRequired:e=>L.warning("Confirmation Required",{description:`Please confirm that you want to ${e.toLowerCase()}.`}),dataLoss:()=>L.warning("Data Loss Warning",{description:"This action cannot be undone. Are you sure you want to continue?"}),info:(e,t)=>L.info(e,{description:t}),loading:(e,t)=>L.loading(e,{description:t}),featureComingSoon:e=>L.info("Coming Soon",{description:`${e} will be available in a future update.`}),maintenanceMode:()=>L.info("Maintenance Mode",{description:"The system is currently under maintenance. Some features may be unavailable."}),dismiss:e=>L.dismiss(e),promise:(e,{loading:t,success:s,error:n})=>L.promise(e,{loading:t,success:s,error:n})};function Ks(e,t,s="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:s}).format(t).split(/\s/g).slice(2).join(" ")}const Vs={},Le={};function qe(e,t){try{const n=(Vs[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Le?Le[n]:Tt(n,n.split(":"))}catch{if(e in Le)return Le[e];const s=e?.match(Qs);return s?Tt(e,s.slice(1)):NaN}}const Qs=/([+-]\d\d):?(\d\d)?/;function Tt(e,t){const s=+(t[0]||0),n=+(t[1]||0);return Le[e]=s>0?s*60+n:s*60-n}class ce extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(qe(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),zt(this),bt(this)):this.setTime(Date.now())}static tz(t,...s){return s.length?new ce(...s,t):new ce(Date.now(),t)}withTimeZone(t){return new ce(+this,t)}getTimezoneOffset(){return-qe(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),bt(this),+this}[Symbol.for("constructDateFrom")](t){return new ce(+new Date(t),this.timeZone)}}const Ft=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Ft.test(e))return;const t=e.replace(Ft,"$1UTC");ce.prototype[t]&&(e.startsWith("get")?ce.prototype[e]=function(){return this.internal[t]()}:(ce.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Js(this),+this},ce.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),bt(this),+this}))});function bt(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function Js(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),zt(e)}function zt(e){const t=qe(e.timeZone,e),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const n=-new Date(+e).getTimezoneOffset(),r=-new Date(+s).getTimezoneOffset(),i=n-r,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const o=n-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);const l=qe(e.timeZone,e),u=-new Date(+e).getTimezoneOffset()-l,m=l!==t,h=u-o;if(m&&h){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);const p=qe(e.timeZone,e),y=l-p;y&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+y),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y))}}class H extends ce{static tz(t,...s){return s.length?new H(...s,t):new H(Date.now(),t)}toISOString(){const[t,s,n]=this.tzComponents(),r=`${t}${s}:${n}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,s,n,r]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${s} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[s,n,r]=this.tzComponents();return`${t} GMT${s}${n}${r} (${Ks(this.timeZone,this)})`}toLocaleString(t,s){return Date.prototype.toLocaleString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleDateString(t,s){return Date.prototype.toLocaleDateString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleTimeString(t,s){return Date.prototype.toLocaleTimeString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),s=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[s,n,r]}withTimeZone(t){return new H(+this,t)}[Symbol.for("constructDateFrom")](t){return new H(+new Date(t),this.timeZone)}}var w;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(w||(w={}));var z;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(z||(z={}));var oe;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(oe||(oe={}));var ne;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(ne||(ne={}));const Wt=5,Xs=4;function ea(e,t){const s=t.startOfMonth(e),n=s.getDay()>0?s.getDay():7,r=t.addDays(e,-n+1),i=t.addDays(r,Wt*7-1);return t.getMonth(e)===t.getMonth(i)?Wt:Xs}function Yt(e,t){const s=t.startOfMonth(e),n=s.getDay();return n===1?s:n===0?t.addDays(s,-6):t.addDays(s,-1*(n-1))}function ta(e,t){const s=Yt(e,t),n=ea(e,t);return t.addDays(s,n*7-1)}class be{constructor(t,s){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?H.tz(this.options.timeZone):new this.Date,this.newDate=(n,r,i)=>this.overrides?.newDate?this.overrides.newDate(n,r,i):this.options.timeZone?new H(n,r,i,this.options.timeZone):new Date(n,r,i),this.addDays=(n,r)=>this.overrides?.addDays?this.overrides.addDays(n,r):On(n,r),this.addMonths=(n,r)=>this.overrides?.addMonths?this.overrides.addMonths(n,r):Tn(n,r),this.addWeeks=(n,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,r):Fn(n,r),this.addYears=(n,r)=>this.overrides?.addYears?this.overrides.addYears(n,r):Wn(n,r),this.differenceInCalendarDays=(n,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,r):En(n,r),this.differenceInCalendarMonths=(n,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,r):In(n,r),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):Bn(n),this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):ta(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):Pn(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):Rn(n),this.endOfWeek=(n,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,r):zn(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):Yn(n),this.format=(n,r,i)=>{const c=this.overrides?.format?this.overrides.format(n,r,this.options):$n(n,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):Ln(n),this.getMonth=(n,r)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):qn(n,this.options),this.getYear=(n,r)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):Hn(n,this.options),this.getWeek=(n,r)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):Zn(n,this.options),this.isAfter=(n,r)=>this.overrides?.isAfter?this.overrides.isAfter(n,r):Gn(n,r),this.isBefore=(n,r)=>this.overrides?.isBefore?this.overrides.isBefore(n,r):Un(n,r),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):Kn(n),this.isSameDay=(n,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,r):Vn(n,r),this.isSameMonth=(n,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,r):Qn(n,r),this.isSameYear=(n,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,r):Jn(n,r),this.max=n=>this.overrides?.max?this.overrides.max(n):Xn(n),this.min=n=>this.overrides?.min?this.overrides.min(n):es(n),this.setMonth=(n,r)=>this.overrides?.setMonth?this.overrides.setMonth(n,r):ts(n,r),this.setYear=(n,r)=>this.overrides?.setYear?this.overrides.setYear(n,r):ns(n,r),this.startOfBroadcastWeek=(n,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):Yt(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):ss(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):as(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):rs(n),this.startOfWeek=(n,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):os(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):is(n),this.options={locale:Rt,...t},this.overrides=s}getDigitMap(){const{numerals:t="latn"}=this.options,s=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let r=0;r<10;r++)n[r.toString()]=s.format(r);return n}replaceDigits(t){const s=this.getDigitMap();return t.replace(/\d/g,n=>s[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}}const ue=new be;class $t{constructor(t,s,n=ue){this.date=t,this.displayMonth=s,this.outside=!!(s&&!n.isSameMonth(t,s)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class na{constructor(t,s){this.date=t,this.weeks=s}}class sa{constructor(t,s){this.days=s,this.weekNumber=t}}function he(e,t,s=!1,n=ue){let{from:r,to:i}=e;const{differenceInCalendarDays:c,isSameDay:o}=n;return r&&i?(c(i,r)<0&&([r,i]=[i,r]),c(t,r)>=(s?1:0)&&c(i,t)>=(s?1:0)):!s&&i?o(i,t):!s&&r?o(r,t):!1}function Lt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function gt(e){return!!(e&&typeof e=="object"&&"from"in e)}function qt(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ht(e){return!!(e&&typeof e=="object"&&"before"in e)}function Zt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Gt(e,t){return Array.isArray(e)&&e.every(t.isDate)}function pe(e,t,s=ue){const n=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:i,isAfter:c}=s;return n.some(o=>{if(typeof o=="boolean")return o;if(s.isDate(o))return r(e,o);if(Gt(o,s))return o.includes(e);if(gt(o))return he(o,e,!1,s);if(Zt(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(e.getDay()):o.dayOfWeek===e.getDay();if(Lt(o)){const l=i(o.before,e),d=i(o.after,e),u=l>0,m=d<0;return c(o.before,o.after)?m&&u:u||m}return qt(o)?i(e,o.after)>0:Ht(o)?i(o.before,e)>0:typeof o=="function"?o(e):!1})}function aa(e,t,s,n,r){const{disabled:i,hidden:c,modifiers:o,showOutsideDays:l,broadcastCalendar:d,today:u}=t,{isSameDay:m,isSameMonth:h,startOfMonth:p,isBefore:y,endOfMonth:N,isAfter:f}=r,v=s&&p(s),M=n&&N(n),g={[z.focused]:[],[z.outside]:[],[z.disabled]:[],[z.hidden]:[],[z.today]:[]},T={};for(const b of e){const{date:j,displayMonth:D}=b,A=!!(D&&!h(j,D)),W=!!(v&&y(j,v)),Y=!!(M&&f(j,M)),$=!!(i&&pe(j,i,r)),Z=!!(c&&pe(j,c,r))||W||Y||!d&&!l&&A||d&&l===!1&&A,xe=m(j,u??r.today());A&&g.outside.push(b),$&&g.disabled.push(b),Z&&g.hidden.push(b),xe&&g.today.push(b),o&&Object.keys(o).forEach(ge=>{const ve=o?.[ge];ve&&pe(j,ve,r)&&(T[ge]?T[ge].push(b):T[ge]=[b])})}return b=>{const j={[z.focused]:!1,[z.disabled]:!1,[z.hidden]:!1,[z.outside]:!1,[z.today]:!1},D={};for(const A in g){const W=g[A];j[A]=W.some(Y=>Y===b)}for(const A in T)D[A]=T[A].some(W=>W===b);return{...j,...D}}}function ra(e,t,s={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[i])=>(s[i]?r.push(s[i]):t[z[i]]?r.push(t[z[i]]):t[oe[i]]&&r.push(t[oe[i]]),r),[t[w.Day]])}function oa(e){return x.createElement("button",{...e})}function ia(e){return x.createElement("span",{...e})}function la(e){const{size:t=24,orientation:s="left",className:n}=e;return x.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},s==="up"&&x.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),s==="down"&&x.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),s==="left"&&x.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),s==="right"&&x.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function ca(e){const{day:t,modifiers:s,...n}=e;return x.createElement("td",{...n})}function da(e){const{day:t,modifiers:s,...n}=e,r=x.useRef(null);return x.useEffect(()=>{s.focused&&r.current?.focus()},[s.focused]),x.createElement("button",{ref:r,...n})}function ua(e){const{options:t,className:s,components:n,classNames:r,...i}=e,c=[r[w.Dropdown],s].join(" "),o=t?.find(({value:l})=>l===i.value);return x.createElement("span",{"data-disabled":i.disabled,className:r[w.DropdownRoot]},x.createElement(n.Select,{className:c,...i},t?.map(({value:l,label:d,disabled:u})=>x.createElement(n.Option,{key:l,value:l,disabled:u},d))),x.createElement("span",{className:r[w.CaptionLabel],"aria-hidden":!0},o?.label,x.createElement(n.Chevron,{orientation:"down",size:18,className:r[w.Chevron]})))}function ma(e){return x.createElement("div",{...e})}function fa(e){return x.createElement("div",{...e})}function ha(e){const{calendarMonth:t,displayIndex:s,...n}=e;return x.createElement("div",{...n},e.children)}function pa(e){const{calendarMonth:t,displayIndex:s,...n}=e;return x.createElement("div",{...n})}function ba(e){return x.createElement("table",{...e})}function xa(e){return x.createElement("div",{...e})}const Ut=k.createContext(void 0);function Ze(){const e=k.useContext(Ut);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function ga(e){const{components:t}=Ze();return x.createElement(t.Dropdown,{...e})}function va(e){const{onPreviousClick:t,onNextClick:s,previousMonth:n,nextMonth:r,...i}=e,{components:c,classNames:o,labels:{labelPrevious:l,labelNext:d}}=Ze(),u=k.useCallback(h=>{r&&s?.(h)},[r,s]),m=k.useCallback(h=>{n&&t?.(h)},[n,t]);return x.createElement("nav",{...i},x.createElement(c.PreviousMonthButton,{type:"button",className:o[w.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":l(n),onClick:m},x.createElement(c.Chevron,{disabled:n?void 0:!0,className:o[w.Chevron],orientation:"left"})),x.createElement(c.NextMonthButton,{type:"button",className:o[w.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:u},x.createElement(c.Chevron,{disabled:r?void 0:!0,orientation:"right",className:o[w.Chevron]})))}function ya(e){const{components:t}=Ze();return x.createElement(t.Button,{...e})}function wa(e){return x.createElement("option",{...e})}function Na(e){const{components:t}=Ze();return x.createElement(t.Button,{...e})}function Ma(e){const{rootRef:t,...s}=e;return x.createElement("div",{...s,ref:t})}function ja(e){return x.createElement("select",{...e})}function ka(e){const{week:t,...s}=e;return x.createElement("tr",{...s})}function Da(e){return x.createElement("th",{...e})}function _a(e){return x.createElement("thead",{"aria-hidden":!0},x.createElement("tr",{...e}))}function Sa(e){const{week:t,...s}=e;return x.createElement("th",{...s})}function Ca(e){return x.createElement("th",{...e})}function Aa(e){return x.createElement("tbody",{...e})}function Oa(e){const{components:t}=Ze();return x.createElement(t.Dropdown,{...e})}const Ta=Object.freeze(Object.defineProperty({__proto__:null,Button:oa,CaptionLabel:ia,Chevron:la,Day:ca,DayButton:da,Dropdown:ua,DropdownNav:ma,Footer:fa,Month:ha,MonthCaption:pa,MonthGrid:ba,Months:xa,MonthsDropdown:ga,Nav:va,NextMonthButton:ya,Option:wa,PreviousMonthButton:Na,Root:Ma,Select:ja,Week:ka,WeekNumber:Sa,WeekNumberHeader:Ca,Weekday:Da,Weekdays:_a,Weeks:Aa,YearsDropdown:Oa},Symbol.toStringTag,{value:"Module"}));function Fa(e){return{...Ta,...e}}function Wa(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([s,n])=>{s.startsWith("data-")&&(t[s]=n)}),t}function vt(){const e={};for(const t in w)e[w[t]]=`rdp-${w[t]}`;for(const t in z)e[z[t]]=`rdp-${z[t]}`;for(const t in oe)e[oe[t]]=`rdp-${oe[t]}`;for(const t in ne)e[ne[t]]=`rdp-${ne[t]}`;return e}function Kt(e,t,s){return(s??new be(t)).format(e,"LLLL y")}const Ea=Kt;function Ia(e,t,s){return(s??new be(t)).format(e,"d")}function Ba(e,t=ue){return t.format(e,"LLLL")}function Pa(e,t=ue){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function Ra(){return""}function za(e,t,s){return(s??new be(t)).format(e,"cccccc")}function Vt(e,t=ue){return t.format(e,"yyyy")}const Ya=Vt,$a=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Kt,formatDay:Ia,formatMonthCaption:Ea,formatMonthDropdown:Ba,formatWeekNumber:Pa,formatWeekNumberHeader:Ra,formatWeekdayName:za,formatYearCaption:Ya,formatYearDropdown:Vt},Symbol.toStringTag,{value:"Module"}));function La(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...$a,...e}}function qa(e,t,s,n,r){const{startOfMonth:i,startOfYear:c,endOfYear:o,eachMonthOfInterval:l,getMonth:d}=r;return l({start:c(e),end:o(e)}).map(h=>{const p=n.formatMonthDropdown(h,r),y=d(h),N=t&&h<i(t)||s&&h>i(s)||!1;return{value:y,label:p,disabled:N}})}function Ha(e,t={},s={}){let n={...t?.[w.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{n={...n,...s?.[r]}}),n}function Za(e,t,s){const n=e.today(),r=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let c=0;c<7;c++){const o=e.addDays(r,c);i.push(o)}return i}function Ga(e,t,s,n){if(!e||!t)return;const{startOfYear:r,endOfYear:i,addYears:c,getYear:o,isBefore:l,isSameYear:d}=n,u=r(e),m=i(t),h=[];let p=u;for(;l(p,m)||d(p,m);)h.push(p),p=c(p,1);return h.map(y=>{const N=s.formatYearDropdown(y,n);return{value:o(y),label:N,disabled:!1}})}function Qt(e,t,s){return(s??new be(t)).format(e,"LLLL y")}const Ua=Qt;function Ka(e,t,s,n){let r=(n??new be(s)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function Jt(e,t,s,n){let r=(n??new be(s)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const Va=Jt;function Qa(){return""}function Ja(e){return"Choose the Month"}function Xa(e){return"Go to the Next Month"}function er(e){return"Go to the Previous Month"}function tr(e,t,s){return(s??new be(t)).format(e,"cccc")}function nr(e,t){return`Week ${e}`}function sr(e){return"Week Number"}function ar(e){return"Choose the Year"}const rr=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Ua,labelDay:Va,labelDayButton:Jt,labelGrid:Qt,labelGridcell:Ka,labelMonthDropdown:Ja,labelNav:Qa,labelNext:Xa,labelPrevious:er,labelWeekNumber:nr,labelWeekNumberHeader:sr,labelWeekday:tr,labelYearDropdown:ar},Symbol.toStringTag,{value:"Module"})),Ge=e=>e instanceof HTMLElement?e:null,mt=e=>[...e.querySelectorAll("[data-animated-month]")??[]],or=e=>Ge(e.querySelector("[data-animated-month]")),ft=e=>Ge(e.querySelector("[data-animated-caption]")),ht=e=>Ge(e.querySelector("[data-animated-weeks]")),ir=e=>Ge(e.querySelector("[data-animated-nav]")),lr=e=>Ge(e.querySelector("[data-animated-weekdays]"));function cr(e,t,{classNames:s,months:n,focused:r,dateLib:i}){const c=k.useRef(null),o=k.useRef(n),l=k.useRef(!1);k.useLayoutEffect(()=>{const d=o.current;if(o.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||d.length===0||n.length!==d.length)return;const u=i.isSameMonth(n[0].date,d[0].date),m=i.isAfter(n[0].date,d[0].date),h=m?s[ne.caption_after_enter]:s[ne.caption_before_enter],p=m?s[ne.weeks_after_enter]:s[ne.weeks_before_enter],y=c.current,N=e.current.cloneNode(!0);if(N instanceof HTMLElement?(mt(N).forEach(g=>{if(!(g instanceof HTMLElement))return;const T=or(g);T&&g.contains(T)&&g.removeChild(T);const b=ft(g);b&&b.classList.remove(h);const j=ht(g);j&&j.classList.remove(p)}),c.current=N):c.current=null,l.current||u||r)return;const f=y instanceof HTMLElement?mt(y):[],v=mt(e.current);if(v&&v.every(M=>M instanceof HTMLElement)&&f&&f.every(M=>M instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const M=ir(e.current);M&&(M.style.zIndex="1"),v.forEach((g,T)=>{const b=f[T];if(!b)return;g.style.position="relative",g.style.overflow="hidden";const j=ft(g);j&&j.classList.add(h);const D=ht(g);D&&D.classList.add(p);const A=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),M&&(M.style.zIndex=""),j&&j.classList.remove(h),D&&D.classList.remove(p),g.style.position="",g.style.overflow="",g.contains(b)&&g.removeChild(b)};b.style.pointerEvents="none",b.style.position="absolute",b.style.overflow="hidden",b.setAttribute("aria-hidden","true");const W=lr(b);W&&(W.style.opacity="0");const Y=ft(b);Y&&(Y.classList.add(m?s[ne.caption_before_exit]:s[ne.caption_after_exit]),Y.addEventListener("animationend",A));const $=ht(b);$&&$.classList.add(m?s[ne.weeks_before_exit]:s[ne.weeks_after_exit]),g.insertBefore(b,g.firstChild)})}})}function dr(e,t,s,n){const r=e[0],i=e[e.length-1],{ISOWeek:c,fixedWeeks:o,broadcastCalendar:l}=s??{},{addDays:d,differenceInCalendarDays:u,differenceInCalendarMonths:m,endOfBroadcastWeek:h,endOfISOWeek:p,endOfMonth:y,endOfWeek:N,isAfter:f,startOfBroadcastWeek:v,startOfISOWeek:M,startOfWeek:g}=n,T=l?v(r,n):c?M(r):g(r),b=l?h(i):c?p(y(i)):N(y(i)),j=u(b,T),D=m(i,r)+1,A=[];for(let $=0;$<=j;$++){const Z=d(T,$);if(t&&f(Z,t))break;A.push(Z)}const Y=(l?35:42)*D;if(o&&A.length<Y){const $=Y-A.length;for(let Z=0;Z<$;Z++){const xe=d(A[A.length-1],1);A.push(xe)}}return A}function ur(e){const t=[];return e.reduce((s,n)=>{const r=n.weeks.reduce((i,c)=>[...i,...c.days],t);return[...s,...r]},t)}function mr(e,t,s,n){const{numberOfMonths:r=1}=s,i=[];for(let c=0;c<r;c++){const o=n.addMonths(e,c);if(t&&o>t)break;i.push(o)}return i}function Et(e,t,s,n){const{month:r,defaultMonth:i,today:c=n.today(),numberOfMonths:o=1}=e;let l=r||i||c;const{differenceInCalendarMonths:d,addMonths:u,startOfMonth:m}=n;if(s&&d(s,l)<o-1){const h=-1*(o-1);l=u(s,h)}return t&&d(l,t)<0&&(l=t),m(l)}function fr(e,t,s,n){const{addDays:r,endOfBroadcastWeek:i,endOfISOWeek:c,endOfMonth:o,endOfWeek:l,getISOWeek:d,getWeek:u,startOfBroadcastWeek:m,startOfISOWeek:h,startOfWeek:p}=n,y=e.reduce((N,f)=>{const v=s.broadcastCalendar?m(f,n):s.ISOWeek?h(f):p(f),M=s.broadcastCalendar?i(f):s.ISOWeek?c(o(f)):l(o(f)),g=t.filter(D=>D>=v&&D<=M),T=s.broadcastCalendar?35:42;if(s.fixedWeeks&&g.length<T){const D=t.filter(A=>{const W=T-g.length;return A>M&&A<=r(M,W)});g.push(...D)}const b=g.reduce((D,A)=>{const W=s.ISOWeek?d(A):u(A),Y=D.find(Z=>Z.weekNumber===W),$=new $t(A,f,n);return Y?Y.days.push($):D.push(new sa(W,[$])),D},[]),j=new na(f,b);return N.push(j),N},[]);return s.reverseMonths?y.reverse():y}function hr(e,t){let{startMonth:s,endMonth:n}=e;const{startOfYear:r,startOfDay:i,startOfMonth:c,endOfMonth:o,addYears:l,endOfYear:d,newDate:u,today:m}=t,{fromYear:h,toYear:p,fromMonth:y,toMonth:N}=e;!s&&y&&(s=y),!s&&h&&(s=t.newDate(h,0,1)),!n&&N&&(n=N),!n&&p&&(n=u(p,11,31));const f=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return s?s=c(s):h?s=u(h,0,1):!s&&f&&(s=r(l(e.today??m(),-100))),n?n=o(n):p?n=u(p,11,31):!n&&f&&(n=d(e.today??m())),[s&&i(s),n&&i(n)]}function pr(e,t,s,n){if(s.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i=1}=s,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:l}=n,d=r?i:1,u=c(e);if(!t)return o(u,d);if(!(l(t,e)<i))return o(u,d)}function br(e,t,s,n){if(s.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i}=s,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:l}=n,d=r?i??1:1,u=c(e);if(!t)return o(u,-d);if(!(l(u,t)<=0))return o(u,-d)}function xr(e){const t=[];return e.reduce((s,n)=>[...s,...n.weeks],t)}function it(e,t){const[s,n]=k.useState(e);return[t===void 0?s:t,n]}function gr(e,t){const[s,n]=hr(e,t),{startOfMonth:r,endOfMonth:i}=t,c=Et(e,s,n,t),[o,l]=it(c,e.month?c:void 0);k.useEffect(()=>{const j=Et(e,s,n,t);l(j)},[e.timeZone]);const d=mr(o,n,e,t),u=dr(d,e.endMonth?i(e.endMonth):void 0,e,t),m=fr(d,u,e,t),h=xr(m),p=ur(m),y=br(o,s,e,t),N=pr(o,n,e,t),{disableNavigation:f,onMonthChange:v}=e,M=j=>h.some(D=>D.days.some(A=>A.isEqualTo(j))),g=j=>{if(f)return;let D=r(j);s&&D<r(s)&&(D=r(s)),n&&D>r(n)&&(D=r(n)),l(D),v?.(D)};return{months:m,weeks:h,days:p,navStart:s,navEnd:n,previousMonth:y,nextMonth:N,goToMonth:g,goToDay:j=>{M(j)||g(j.date)}}}var le;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(le||(le={}));function It(e){return!e[z.disabled]&&!e[z.hidden]&&!e[z.outside]}function vr(e,t,s,n){let r,i=-1;for(const c of e){const o=t(c);It(o)&&(o[z.focused]&&i<le.FocusedModifier?(r=c,i=le.FocusedModifier):n?.isEqualTo(c)&&i<le.LastFocused?(r=c,i=le.LastFocused):s(c.date)&&i<le.Selected?(r=c,i=le.Selected):o[z.today]&&i<le.Today&&(r=c,i=le.Today))}return r||(r=e.find(c=>It(t(c)))),r}function yr(e,t,s,n,r,i,c){const{ISOWeek:o,broadcastCalendar:l}=i,{addDays:d,addMonths:u,addWeeks:m,addYears:h,endOfBroadcastWeek:p,endOfISOWeek:y,endOfWeek:N,max:f,min:v,startOfBroadcastWeek:M,startOfISOWeek:g,startOfWeek:T}=c;let j={day:d,week:m,month:u,year:h,startOfWeek:D=>l?M(D,c):o?g(D):T(D),endOfWeek:D=>l?p(D):o?y(D):N(D)}[e](s,t==="after"?1:-1);return t==="before"&&n?j=f([n,j]):t==="after"&&r&&(j=v([r,j])),j}function Xt(e,t,s,n,r,i,c,o=0){if(o>365)return;const l=yr(e,t,s.date,n,r,i,c),d=!!(i.disabled&&pe(l,i.disabled,c)),u=!!(i.hidden&&pe(l,i.hidden,c)),m=l,h=new $t(l,m,c);return!d&&!u?h:Xt(e,t,h,n,r,i,c,o+1)}function wr(e,t,s,n,r){const{autoFocus:i}=e,[c,o]=k.useState(),l=vr(t.days,s,n||(()=>!1),c),[d,u]=k.useState(i?l:void 0);return{isFocusTarget:N=>!!l?.isEqualTo(N),setFocused:u,focused:d,blur:()=>{o(d),u(void 0)},moveFocus:(N,f)=>{if(!d)return;const v=Xt(N,f,d,t.navStart,t.navEnd,e,r);v&&(t.goToDay(v),u(v))}}}function Nr(e,t){const{selected:s,required:n,onSelect:r}=e,[i,c]=it(s,r?s:void 0),o=r?s:i,{isSameDay:l}=t,d=p=>o?.some(y=>l(y,p))??!1,{min:u,max:m}=e;return{selected:o,select:(p,y,N)=>{let f=[...o??[]];if(d(p)){if(o?.length===u||n&&o?.length===1)return;f=o?.filter(v=>!l(v,p))}else o?.length===m?f=[p]:f=[...f,p];return r||c(f),r?.(f,p,y,N),f},isSelected:d}}function Mr(e,t,s=0,n=0,r=!1,i=ue){const{from:c,to:o}=t||{},{isSameDay:l,isAfter:d,isBefore:u}=i;let m;if(!c&&!o)m={from:e,to:s>0?void 0:e};else if(c&&!o)l(c,e)?r?m={from:c,to:void 0}:m=void 0:u(e,c)?m={from:e,to:c}:m={from:c,to:e};else if(c&&o)if(l(c,e)&&l(o,e))r?m={from:c,to:o}:m=void 0;else if(l(c,e))m={from:c,to:s>0?void 0:e};else if(l(o,e))m={from:e,to:s>0?void 0:e};else if(u(e,c))m={from:e,to:o};else if(d(e,c))m={from:c,to:e};else if(d(e,o))m={from:c,to:e};else throw new Error("Invalid range");if(m?.from&&m?.to){const h=i.differenceInCalendarDays(m.to,m.from);n>0&&h>n?m={from:e,to:void 0}:s>1&&h<s&&(m={from:e,to:void 0})}return m}function jr(e,t,s=ue){const n=Array.isArray(t)?t:[t];let r=e.from;const i=s.differenceInCalendarDays(e.to,e.from),c=Math.min(i,6);for(let o=0;o<=c;o++){if(n.includes(r.getDay()))return!0;r=s.addDays(r,1)}return!1}function Bt(e,t,s=ue){return he(e,t.from,!1,s)||he(e,t.to,!1,s)||he(t,e.from,!1,s)||he(t,e.to,!1,s)}function kr(e,t,s=ue){const n=Array.isArray(t)?t:[t];if(n.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:s.isDate(o)?he(e,o,!1,s):Gt(o,s)?o.some(l=>he(e,l,!1,s)):gt(o)?o.from&&o.to?Bt(e,{from:o.from,to:o.to},s):!1:Zt(o)?jr(e,o.dayOfWeek,s):Lt(o)?s.isAfter(o.before,o.after)?Bt(e,{from:s.addDays(o.after,1),to:s.addDays(o.before,-1)},s):pe(e.from,o,s)||pe(e.to,o,s):qt(o)||Ht(o)?pe(e.from,o,s)||pe(e.to,o,s):!1))return!0;const c=n.filter(o=>typeof o=="function");if(c.length){let o=e.from;const l=s.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=l;d++){if(c.some(u=>u(o)))return!0;o=s.addDays(o,1)}}return!1}function Dr(e,t){const{disabled:s,excludeDisabled:n,selected:r,required:i,onSelect:c}=e,[o,l]=it(r,c?r:void 0),d=c?r:o;return{selected:d,select:(h,p,y)=>{const{min:N,max:f}=e,v=h?Mr(h,d,N,f,i,t):void 0;return n&&s&&v?.from&&v.to&&kr({from:v.from,to:v.to},s,t)&&(v.from=h,v.to=void 0),c||l(v),c?.(v,h,p,y),v},isSelected:h=>d&&he(d,h,!1,t)}}function _r(e,t){const{selected:s,required:n,onSelect:r}=e,[i,c]=it(s,r?s:void 0),o=r?s:i,{isSameDay:l}=t;return{selected:o,select:(m,h,p)=>{let y=m;return!n&&o&&o&&l(m,o)&&(y=void 0),r||c(y),r?.(y,m,h,p),y},isSelected:m=>o?l(o,m):!1}}function Sr(e,t){const s=_r(e,t),n=Nr(e,t),r=Dr(e,t);switch(e.mode){case"single":return s;case"multiple":return n;case"range":return r;default:return}}function Cr(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new H(t.today,t.timeZone)),t.month&&(t.month=new H(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new H(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new H(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new H(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new H(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(O=>new H(O,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new H(t.selected.from,t.timeZone):void 0,to:t.selected.to?new H(t.selected.to,t.timeZone):void 0}));const{components:s,formatters:n,labels:r,dateLib:i,locale:c,classNames:o}=k.useMemo(()=>{const O={...Rt,...t.locale};return{dateLib:new be({locale:O,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Fa(t.components),formatters:La(t.formatters),labels:{...rr,...t.labels},locale:O,classNames:{...vt(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:d,navLayout:u,numberOfMonths:m=1,onDayBlur:h,onDayClick:p,onDayFocus:y,onDayKeyDown:N,onDayMouseEnter:f,onDayMouseLeave:v,onNextClick:M,onPrevClick:g,showWeekNumber:T,styles:b}=t,{formatCaption:j,formatDay:D,formatMonthDropdown:A,formatWeekNumber:W,formatWeekNumberHeader:Y,formatWeekdayName:$,formatYearDropdown:Z}=n,xe=gr(t,i),{days:ge,months:ve,navStart:Te,navEnd:ye,previousMonth:G,nextMonth:Q,goToMonth:J}=xe,Fe=aa(ge,t,Te,ye,i),{isSelected:We,select:Re,selected:X}=Sr(t,i)??{},{blur:ze,focused:S,isFocusTarget:C,moveFocus:_,setFocused:se}=wr(t,xe,Fe,We??(()=>!1),i),{labelDayButton:U,labelGridcell:we,labelGrid:ee,labelMonthDropdown:me,labelNav:De,labelPrevious:te,labelNext:Ne,labelWeekday:_e,labelWeekNumber:Ye,labelWeekNumberHeader:Ue,labelYearDropdown:lt}=r,Ee=k.useMemo(()=>Za(i,t.ISOWeek),[i,t.ISOWeek]),Ke=d!==void 0||p!==void 0,$e=k.useCallback(()=>{G&&(J(G),g?.(G))},[G,J,g]),ae=k.useCallback(()=>{Q&&(J(Q),M?.(Q))},[J,Q,M]),Ve=k.useCallback((O,R)=>E=>{E.preventDefault(),E.stopPropagation(),se(O),Re?.(O.date,R,E),p?.(O.date,R,E)},[Re,p,se]),ct=k.useCallback((O,R)=>E=>{se(O),y?.(O.date,R,E)},[y,se]),tn=k.useCallback((O,R)=>E=>{ze(),h?.(O.date,R,E)},[ze,h]),nn=k.useCallback((O,R)=>E=>{const Me={ArrowLeft:[E.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[E.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[E.shiftKey?"year":"week","after"],ArrowUp:[E.shiftKey?"year":"week","before"],PageUp:[E.shiftKey?"year":"month","before"],PageDown:[E.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Me[E.key]){E.preventDefault(),E.stopPropagation();const[re,Qe]=Me[E.key];_(re,Qe)}N?.(O.date,R,E)},[_,N,t.dir]),sn=k.useCallback((O,R)=>E=>{f?.(O.date,R,E)},[f]),an=k.useCallback((O,R)=>E=>{v?.(O.date,R,E)},[v]),rn=k.useCallback(O=>R=>{const E=Number(R.target.value),Me=i.setMonth(i.startOfMonth(O),E);J(Me)},[i,J]),on=k.useCallback(O=>R=>{const E=Number(R.target.value),Me=i.setYear(i.startOfMonth(O),E);J(Me)},[i,J]),{className:ln,style:cn}=k.useMemo(()=>({className:[o[w.Root],t.className].filter(Boolean).join(" "),style:{...b?.[w.Root],...t.style}}),[o,t.className,t.style,b]),dn=Wa(t),yt=k.useRef(null);cr(yt,!!t.animate,{classNames:o,months:ve,focused:S,dateLib:i});const un={dayPickerProps:t,selected:X,select:Re,isSelected:We,months:ve,nextMonth:Q,previousMonth:G,goToMonth:J,getModifiers:Fe,components:s,classNames:o,styles:b,labels:r,formatters:n};return x.createElement(Ut.Provider,{value:un},x.createElement(s.Root,{rootRef:t.animate?yt:void 0,className:ln,style:cn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...dn},x.createElement(s.Months,{className:o[w.Months],style:b?.[w.Months]},!t.hideNavigation&&!u&&x.createElement(s.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[w.Nav],style:b?.[w.Nav],"aria-label":De(),onPreviousClick:$e,onNextClick:ae,previousMonth:G,nextMonth:Q}),ve.map((O,R)=>{const E=qa(O.date,Te,ye,n,i),Me=Ga(Te,ye,n,i);return x.createElement(s.Month,{"data-animated-month":t.animate?"true":void 0,className:o[w.Month],style:b?.[w.Month],key:R,displayIndex:R,calendarMonth:O},u==="around"&&!t.hideNavigation&&R===0&&x.createElement(s.PreviousMonthButton,{type:"button",className:o[w.PreviousMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":te(G),onClick:$e,"data-animated-button":t.animate?"true":void 0},x.createElement(s.Chevron,{disabled:G?void 0:!0,className:o[w.Chevron],orientation:t.dir==="rtl"?"right":"left"})),x.createElement(s.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[w.MonthCaption],style:b?.[w.MonthCaption],calendarMonth:O,displayIndex:R},l?.startsWith("dropdown")?x.createElement(s.DropdownNav,{className:o[w.Dropdowns],style:b?.[w.Dropdowns]},l==="dropdown"||l==="dropdown-months"?x.createElement(s.MonthsDropdown,{className:o[w.MonthsDropdown],"aria-label":me(),classNames:o,components:s,disabled:!!t.disableNavigation,onChange:rn(O.date),options:E,style:b?.[w.Dropdown],value:i.getMonth(O.date)}):x.createElement("span",null,A(O.date,i)),l==="dropdown"||l==="dropdown-years"?x.createElement(s.YearsDropdown,{className:o[w.YearsDropdown],"aria-label":lt(i.options),classNames:o,components:s,disabled:!!t.disableNavigation,onChange:on(O.date),options:Me,style:b?.[w.Dropdown],value:i.getYear(O.date)}):x.createElement("span",null,Z(O.date,i)),x.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},j(O.date,i.options,i))):x.createElement(s.CaptionLabel,{className:o[w.CaptionLabel],role:"status","aria-live":"polite"},j(O.date,i.options,i))),u==="around"&&!t.hideNavigation&&R===m-1&&x.createElement(s.NextMonthButton,{type:"button",className:o[w.NextMonthButton],tabIndex:Q?void 0:-1,"aria-disabled":Q?void 0:!0,"aria-label":Ne(Q),onClick:ae,"data-animated-button":t.animate?"true":void 0},x.createElement(s.Chevron,{disabled:Q?void 0:!0,className:o[w.Chevron],orientation:t.dir==="rtl"?"left":"right"})),R===m-1&&u==="after"&&!t.hideNavigation&&x.createElement(s.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[w.Nav],style:b?.[w.Nav],"aria-label":De(),onPreviousClick:$e,onNextClick:ae,previousMonth:G,nextMonth:Q}),x.createElement(s.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":ee(O.date,i.options,i)||void 0,className:o[w.MonthGrid],style:b?.[w.MonthGrid]},!t.hideWeekdays&&x.createElement(s.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[w.Weekdays],style:b?.[w.Weekdays]},T&&x.createElement(s.WeekNumberHeader,{"aria-label":Ue(i.options),className:o[w.WeekNumberHeader],style:b?.[w.WeekNumberHeader],scope:"col"},Y()),Ee.map((re,Qe)=>x.createElement(s.Weekday,{"aria-label":_e(re,i.options,i),className:o[w.Weekday],key:Qe,style:b?.[w.Weekday],scope:"col"},$(re,i.options,i)))),x.createElement(s.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[w.Weeks],style:b?.[w.Weeks]},O.weeks.map((re,Qe)=>x.createElement(s.Week,{className:o[w.Week],key:re.weekNumber,style:b?.[w.Week],week:re},T&&x.createElement(s.WeekNumber,{week:re,style:b?.[w.WeekNumber],"aria-label":Ye(re.weekNumber,{locale:c}),className:o[w.WeekNumber],scope:"row",role:"rowheader"},W(re.weekNumber,i)),re.days.map(q=>{const{date:ie}=q,B=Fe(q);if(B[z.focused]=!B.hidden&&!!S?.isEqualTo(q),B[oe.selected]=We?.(ie)||B.selected,gt(X)){const{from:dt,to:ut}=X;B[oe.range_start]=!!(dt&&ut&&i.isSameDay(ie,dt)),B[oe.range_end]=!!(dt&&ut&&i.isSameDay(ie,ut)),B[oe.range_middle]=he(X,ie,!0,i)}const mn=Ha(B,b,t.modifiersStyles),fn=ra(B,o,t.modifiersClassNames),hn=!Ke&&!B.hidden?we(ie,B,i.options,i):void 0;return x.createElement(s.Day,{key:`${i.format(ie,"yyyy-MM-dd")}_${i.format(q.displayMonth,"yyyy-MM")}`,day:q,modifiers:B,className:fn.join(" "),style:mn,role:"gridcell","aria-selected":B.selected||void 0,"aria-label":hn,"data-day":i.format(ie,"yyyy-MM-dd"),"data-month":q.outside?i.format(ie,"yyyy-MM"):void 0,"data-selected":B.selected||void 0,"data-disabled":B.disabled||void 0,"data-hidden":B.hidden||void 0,"data-outside":q.outside||void 0,"data-focused":B.focused||void 0,"data-today":B.today||void 0},!B.hidden&&Ke?x.createElement(s.DayButton,{className:o[w.DayButton],style:b?.[w.DayButton],type:"button",day:q,modifiers:B,disabled:B.disabled||void 0,tabIndex:C(q)?0:-1,"aria-label":U(ie,B,i.options,i),onClick:Ve(q,B),onBlur:tn(q,B),onFocus:ct(q,B),onKeyDown:nn(q,B),onMouseEnter:sn(q,B),onMouseLeave:an(q,B)},D(ie,i.options,i)):!B.hidden&&D(q.date,i.options,i))}))))))})),t.footer&&x.createElement(s.Footer,{className:o[w.Footer],style:b?.[w.Footer],role:"status","aria-live":"polite"},t.footer)))}function Ar({className:e,classNames:t,showOutsideDays:s=!0,captionLayout:n="label",buttonVariant:r="ghost",formatters:i,components:c,...o}){const l=vt();return a.jsx(Cr,{showOutsideDays:s,className:F("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:n,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:F("w-fit",l.root),months:F("flex gap-4 flex-col md:flex-row relative",l.months),month:F("flex flex-col w-full gap-4",l.month),nav:F("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:F(wt({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:F(wt({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:F("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:F("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",l.dropdowns),dropdown_root:F("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:F("absolute bg-popover inset-0 opacity-0",l.dropdown),caption_label:F("select-none font-medium",n==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:F("flex",l.weekdays),weekday:F("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:F("flex w-full mt-2",l.week),week_number_header:F("select-none w-(--cell-size)",l.week_number_header),week_number:F("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:F("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",l.day),range_start:F("rounded-l-md bg-accent",l.range_start),range_middle:F("rounded-none",l.range_middle),range_end:F("rounded-r-md bg-accent",l.range_end),today:F("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:F("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:F("text-muted-foreground opacity-50",l.disabled),hidden:F("invisible",l.hidden),...t},components:{Root:({className:d,rootRef:u,...m})=>a.jsx("div",{"data-slot":"calendar",ref:u,className:F(d),...m}),Chevron:({className:d,orientation:u,...m})=>u==="left"?a.jsx(ds,{className:F("size-4",d),...m}):u==="right"?a.jsx(Pe,{className:F("size-4",d),...m}):a.jsx(He,{className:F("size-4",d),...m}),DayButton:Or,WeekNumber:({children:d,...u})=>a.jsx("td",{...u,children:a.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:d})}),...c},...o})}function Or({className:e,day:t,modifiers:s,...n}){const r=vt(),i=k.useRef(null);return k.useEffect(()=>{s.focused&&i.current?.focus()},[s.focused]),a.jsx(fe,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":s.selected&&!s.range_start&&!s.range_end&&!s.range_middle,"data-range-start":s.range_start,"data-range-end":s.range_end,"data-range-middle":s.range_middle,className:F("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",r.day,e),...n})}function Tr({...e}){return a.jsx(vn,{"data-slot":"popover",...e})}function Fr({...e}){return a.jsx(yn,{"data-slot":"popover-trigger",...e})}function Wr({className:e,align:t="center",sideOffset:s=4,...n}){return a.jsx(wn,{children:a.jsx(Nn,{"data-slot":"popover-content",align:t,sideOffset:s,className:F("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function en(){return a.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>a.jsxs(V,{children:[a.jsx(de,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(P,{className:"h-6 w-16"}),a.jsx(P,{className:"h-6 w-32"})]}),a.jsx(P,{className:"h-5 w-5"})]})}),a.jsx(K,{children:a.jsx("div",{className:"space-y-2",children:Array.from({length:2}).map((s,n)=>a.jsx("div",{className:"flex items-center p-3 rounded-lg border",children:a.jsxs("div",{className:"flex items-center gap-4 w-full",children:[a.jsx(P,{className:"h-4 w-16"}),a.jsx(P,{className:"h-6 w-16"}),a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{className:"w-6 h-6 rounded-full"}),a.jsx(P,{className:"h-4 w-20"})]}),a.jsx(P,{className:"h-4 w-8"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{className:"w-6 h-6 rounded-full"}),a.jsx(P,{className:"h-4 w-20"})]})]})]})},n))})})]},t))})}function Er(){return a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[a.jsxs(V,{className:"flex-grow",children:[a.jsx(de,{children:a.jsx(P,{className:"h-6 w-32"})}),a.jsx(K,{className:"space-y-6",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-20"}),a.jsx(P,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-20"}),a.jsx(P,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-32"}),a.jsx(P,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-40"}),a.jsx(P,{className:"h-10 w-full"})]})]})})})]}),a.jsxs(V,{className:"flex-grow",children:[a.jsx(de,{children:a.jsx(P,{className:"h-6 w-32"})}),a.jsx(K,{className:"space-y-6",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-20"}),a.jsx(P,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-32"}),a.jsx(P,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-48"}),a.jsx(P,{className:"h-10 w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(P,{className:"h-4 w-48"}),a.jsx(P,{className:"h-10 w-full"})]})]})})})]})]})}function Ir({day:e,setDay:t,startTime:s,setStartTime:n,rrRounds:r,setRrRounds:i,intervalMin:c,setIntervalMin:o,doubleEliminationInterval:l,setDoubleEliminationInterval:d,lunchDurationMin:u,setLunchDurationMin:m,desiredLunchTime:h,setDesiredLunchTime:p}){const{alliances:y,isLoading:N}=ot();return N?a.jsx(Er,{}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[a.jsxs(V,{className:"flex-grow",children:[a.jsx(de,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),"Event Details"]})}),a.jsx(K,{className:"space-y-6",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"event-day",children:"Event Day"}),a.jsxs(Tr,{children:[a.jsx(Fr,{asChild:!0,children:a.jsxs(fe,{variant:"outline",className:"w-full justify-start font-normal",children:[a.jsx(Be,{className:"mr-2 h-4 w-4"}),e?e.toDateString():"Pick a date"]})}),a.jsx(Wr,{align:"start",className:"p-0",children:a.jsx(Ar,{mode:"single",selected:e,onSelect:t,initialFocus:!0,required:!0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"start-time",children:"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx(nt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(Se,{id:"start-time",type:"time",value:s,onChange:f=>n(f.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"desired-lunch-time",children:"Desired Lunch Time"}),a.jsxs(Je,{children:[a.jsx(Xe,{asChild:!0,children:a.jsx(Se,{id:"desired-lunch-time",type:"time",value:h,onChange:f=>p(f.target.value)})}),a.jsx(et,{children:a.jsx("p",{children:"Preferred time for lunch break (HH:MM format)"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"lunch-duration",children:"Lunch Duration (minutes)"}),a.jsxs(Je,{children:[a.jsx(Xe,{asChild:!0,children:a.jsx(Se,{id:"lunch-duration",type:"number",min:15,value:u,onChange:f=>m(Number(f.target.value))})}),a.jsx(et,{children:a.jsx("p",{children:"Duration of lunch break"})})]})]})]})})})]}),a.jsxs(V,{className:"flex-grow",children:[a.jsx(de,{children:a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4"}),"Match Settings"]})}),a.jsx(K,{className:"space-y-6",children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"alliances",children:"Alliances"}),a.jsx(Se,{id:"alliances",type:"number",min:2,value:y.length,disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"rr-rounds",children:"Round-Robin Rounds"}),a.jsx(Se,{id:"rr-rounds",type:"number",min:1,value:r,onChange:f=>i(Number(f.target.value))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"interval",children:"Minutes Between Round Robin Matches"}),a.jsxs(Je,{children:[a.jsx(Xe,{asChild:!0,children:a.jsx(Se,{id:"interval",type:"number",min:1,value:c,onChange:f=>o(f.target.value)})}),a.jsx(et,{children:a.jsx("p",{children:"Time gap between consecutive matches"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(je,{htmlFor:"double-elim-interval",children:"Minutes Between Playoffs Matches"}),a.jsxs(Je,{children:[a.jsx(Xe,{asChild:!0,children:a.jsx(Se,{id:"double-elim-interval",type:"number",min:1,value:l,onChange:f=>d(f.target.value)})}),a.jsx(et,{children:a.jsx("p",{children:"Time gap between consecutive playoffs matches"})})]})]})]})})})]})]})})}function xt({block:e,blockIndex:t,isExpanded:s,onToggle:n}){const{getAllianceName:r,alliances:i}=ot(),c=l=>l&&i.find(d=>d.id===l)||null;if(e.activity.type!=="matches"&&e.activity.type!=="playoffs")return null;const o=e.activity;return a.jsxs(V,{children:[a.jsx(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>n(t),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(at,{className:"border",children:ke(new Date(e.startTime))}),a.jsx(Oe,{className:"text-lg font-semibold",children:o.type==="matches"?`RR Round ${o.round+1}`:o.description})]}),s?a.jsx(He,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Pe,{className:"h-5 w-5 text-muted-foreground"})]})}),s&&a.jsx(K,{children:a.jsx("ul",{className:"grid gap-2",children:o.matches.map((l,d)=>{const u=c(l.red_alliance_id),m=c(l.blue_alliance_id);return a.jsx("li",{children:a.jsx("div",{className:"flex items-center p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:l.scheduled_at?ke(new Date(l.scheduled_at)):"TBD"}),a.jsxs(at,{children:["Match ",d+1]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u?.emblem_image_url?a.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-muted flex-shrink-0",children:a.jsx("img",{src:u.emblem_image_url,alt:`${u.name} emblem`,className:"w-full h-full object-cover",onError:h=>{h.target.style.display="none"}})}):a.jsx("div",{className:"w-6 h-6 rounded-full bg-muted flex items-center justify-center text-xs font-bold text-muted-foreground",children:u?.name.charAt(0)||"?"}),a.jsx("span",{className:"text-red-600 font-medium",children:r(l.red_alliance_id)})]}),a.jsx("span",{className:"text-muted-foreground",children:"vs"}),a.jsxs("div",{className:"flex items-center gap-2",children:[m?.emblem_image_url?a.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-muted flex-shrink-0",children:a.jsx("img",{src:m.emblem_image_url,alt:`${m.name} emblem`,className:"w-full h-full object-cover",onError:h=>{h.target.style.display="none"}})}):a.jsx("div",{className:"w-6 h-6 rounded-full bg-muted flex items-center justify-center text-xs font-bold text-muted-foreground",children:m?.name.charAt(0)||"?"}),a.jsx("span",{className:"text-blue-600 font-medium",children:r(l.blue_alliance_id)})]})]})]})})},`${l.scheduled_at}-${d}`)})})})]})}function Br({block:e,blockIndex:t,isExpanded:s,onToggle:n}){return a.jsxs(V,{children:[a.jsx(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>n(t),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(at,{className:"border",children:ke(new Date(e.startTime))}),a.jsx(Oe,{className:"text-lg font-semibold",children:"🍽️ Lunch Break"})]}),s?a.jsx(He,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Pe,{className:"h-5 w-5 text-muted-foreground"})]})}),s&&a.jsx(K,{children:a.jsxs("div",{className:"text-muted-foreground",children:[ke(new Date(e.startTime))," - ",e.duration," minutes"]})})]})}function Pr({block:e,blockIndex:t,isExpanded:s,onToggle:n}){const{getAllianceName:r}=ot();return a.jsxs(V,{children:[a.jsx(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>n(t),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(at,{className:"border",children:ke(new Date(e.startTime))}),a.jsxs(Oe,{className:"text-lg font-semibold",children:["🏆 ",e.activity.description]})]}),s?a.jsx(He,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Pe,{className:"h-5 w-5 text-muted-foreground"})]})}),s&&a.jsxs(K,{children:[a.jsxs("div",{className:"text-muted-foreground mb-4",children:[ke(new Date(e.startTime))," - ",e.duration," minutes"]}),a.jsx("ul",{className:"grid gap-2",children:e.activity.matches.map((i,c)=>a.jsx("li",{children:a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-bold",children:c+1}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-red-600 font-medium",children:r(i.red_alliance_id)}),a.jsx("span",{className:"text-muted-foreground",children:"vs"}),a.jsx("span",{className:"text-blue-600 font-medium",children:r(i.blue_alliance_id)})]})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:i.scheduled_at?ke(new Date(i.scheduled_at)):"TBD"})]})},`${i.scheduled_at}-${c}`))})]})]})}function Rr({block:e,blockIndex:t,isExpanded:s,onToggle:n}){return e.activity.type==="matches"?a.jsx(xt,{block:e,blockIndex:t,isExpanded:s,onToggle:n}):e.activity.type==="playoffs"?a.jsx(Pr,{block:e,blockIndex:t,isExpanded:s,onToggle:n}):e.activity.type==="lunch"?a.jsx(Br,{block:e,blockIndex:t,isExpanded:s,onToggle:n}):null}const zr=k.lazy(()=>ys(()=>import("./virtualized-schedule-C6KLyT2Q.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])));function Yr({generatedBlocks:e,expandedRounds:t,onSave:s,onToggleRound:n,isSaving:r}){if(e.length===0)return a.jsx(V,{children:a.jsx(K,{className:"pt-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(pt,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{children:"No generated schedule yet."}),a.jsx("p",{className:"text-sm",children:"Go to the Configuration tab to generate a schedule."})]})})});const i=e.length>20;return a.jsxs("div",{className:"flex-1 flex flex-col space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx(fe,{onClick:s,size:"lg",className:"px-6",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(us,{className:"mr-2 h-4 w-4"}),"Save to Database"]})})}),i?a.jsx("div",{className:"flex-1",children:a.jsx(k.Suspense,{fallback:a.jsx(en,{}),children:a.jsx(zr,{blocks:e,expandedRounds:t,onToggleRound:n,height:600})})}):a.jsx(st,{className:"flex-1",children:a.jsx("div",{className:"space-y-4 pr-4",children:e.map((c,o)=>a.jsx("div",{children:a.jsx(Rr,{block:c,blockIndex:o,isExpanded:t.has(o),onToggle:n})},o))})})]})}function $r({scheduleError:e,hasExistingData:t,scheduleLoading:s,transformedExistingSchedule:n,expandedRounds:r,onToggleRound:i}){return e?a.jsx(V,{children:a.jsx(K,{className:"pt-6",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsx(Be,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{children:"Error loading schedule"}),a.jsx("p",{className:"text-sm",children:e.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This might be due to database permissions. Check the browser console for details."})]})})}):t?s?a.jsx(st,{className:"flex-1",children:a.jsx("div",{className:"pr-4",children:a.jsx(en,{})})}):a.jsx(st,{className:"flex-1",children:a.jsx("div",{className:"space-y-4 pr-4",children:n.map((c,o)=>a.jsx("div",{children:c.activity.type==="matches"?a.jsx(xt,{block:c,blockIndex:o,isExpanded:r.has(o),onToggle:i}):c.activity.type==="playoffs"?a.jsx(xt,{block:c,blockIndex:o,isExpanded:r.has(o),onToggle:i}):a.jsxs(V,{children:[a.jsx(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>i(o),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Oe,{className:"text-lg font-semibold text-yellow-700",children:"🍽️ Lunch Break"}),r.has(o)?a.jsx(He,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(Pe,{className:"h-5 w-5 text-muted-foreground"})]})}),r.has(o)&&a.jsx(K,{children:a.jsxs("div",{className:"text-muted-foreground",children:["Starting at ",ke(new Date(c.startTime))," -"," ",c.activity.duration," minutes"]})})]})},o))})}):a.jsx(V,{children:a.jsx(K,{className:"pt-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Be,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{children:"No existing schedule found."}),a.jsx("p",{className:"text-sm",children:"Generate and save a schedule to see it here."})]})})})}function Lr({...e}){return a.jsx(Mn,{"data-slot":"collapsible",...e})}function qr({...e}){return a.jsx(jn,{"data-slot":"collapsible-trigger",...e})}function Hr({...e}){return a.jsx(kn,{"data-slot":"collapsible-content",...e})}function Zr({stats:e}){return a.jsxs(Lr,{children:[a.jsx(qr,{asChild:!0,children:a.jsxs(fe,{variant:"outline",className:"w-full justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ms,{className:"h-4 w-4"}),"Schedule Statistics"]}),a.jsx(Pe,{className:"h-4 w-4"})]})}),a.jsx(Hr,{children:a.jsx(V,{className:"mt-2",children:a.jsxs(K,{className:"pt-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.totalMatches}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Matches"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.totalRounds}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Rounds"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.floor(e.totalMatches/e.totalRounds)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Matches per Round"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.avgMatchesPerAlliance.toFixed(1)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg per Alliance"})]})]}),a.jsx(st,{className:"h-64",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"text-left",children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Alliance"}),a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Matches"}),a.jsx("th",{className:"py-2 pr-4 font-medium text-red-600",children:"Red"}),a.jsx("th",{className:"py-2 pr-4 font-medium text-blue-600",children:"Blue"}),a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Back-to-Back"}),a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Avg Turnaround"}),a.jsx("th",{className:"py-2 pr-4 font-medium",children:"Range"})]})}),a.jsx("tbody",{children:e.rows.map(t=>a.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[a.jsx("td",{className:"py-2 pr-4 font-medium",children:t.name}),a.jsx("td",{className:"py-2 pr-4",children:t.matches}),a.jsx("td",{className:"py-2 pr-4 text-red-600 font-medium",children:t.redMatches}),a.jsx("td",{className:"py-2 pr-4 text-blue-600 font-medium",children:t.blueMatches}),a.jsx("td",{className:"py-2 pr-4 text-orange-600 font-medium",children:t.backToBackMatches}),a.jsxs("td",{className:"py-2 pr-4",children:[t.avgMinutes," min"]}),a.jsxs("td",{className:"py-2 pr-4 text-muted-foreground",children:[t.minMinutes,"-",t.maxMinutes," min"]})]},t.id))})]})})]})})})]})}function Gr(e,t){const s=new Map(t.map(n=>[n.id,n]));return e.map(n=>{const r=new Date(n.start_time),i=n.end_time?new Date(n.end_time):null,c=i?Math.round((i.getTime()-r.getTime())/6e4):30;if(n.type==="match"&&n.match_ids&&n.match_ids.length>0){const o=n.match_ids.map(u=>s.get(u)).filter(u=>u!==void 0).map((u,m)=>({id:u.id,red_alliance_id:u.red_alliance_id,blue_alliance_id:u.blue_alliance_id,scheduled_at:u.scheduled_at?new Date(u.scheduled_at).toISOString():new Date().toISOString(),match_type:u.match_type,round:m+1})),l=n.name.match(/Round (\d+)/),d=l?parseInt(l[1])-1:0;return{startTime:n.start_time,duration:c||o.length*5,activity:{type:"matches",matches:o,round:d}}}else if(n.type==="playoff"&&n.match_ids&&n.match_ids.length>0){const o=n.match_ids.map(u=>s.get(u)).filter(u=>u!==void 0).map((u,m)=>({id:u.id,red_alliance_id:u.red_alliance_id,blue_alliance_id:u.blue_alliance_id,scheduled_at:u.scheduled_at?new Date(u.scheduled_at).toISOString():new Date().toISOString(),match_type:u.match_type,round:m+1,bracket:"upper",match_number:m+1,winner_advances_to:void 0,loser_advances_to:void 0})),l=n.name.match(/Round (\d+)/),d=l?parseInt(l[1])-1:0;return{startTime:n.start_time,duration:c||o.length*5,activity:{type:"playoffs",matches:o,round:d,description:n.name}}}else return n.type==="lunch_break"?{startTime:n.start_time,duration:c||60,activity:{type:"lunch",duration:c||60}}:{startTime:n.start_time,duration:c||30,activity:{type:"matches",matches:[],round:0}}})}const Ce={day:new Date,startTime:"09:00",rrRounds:4,intervalMin:"10",doubleEliminationInterval:"15",lunchDurationMin:60,desiredLunchTime:"12:00"};function Ur(){const[e,t]=k.useState(null),[s,n]=k.useState(!1),r=ls(),{data:i}=Mt({queryKey:["auth","user"],queryFn:async()=>{const{data:{user:S}}=await Ie.auth.getUser();return{user:S}}}),c=i?.user,[o,l]=k.useState(Ce.day),[d,u]=k.useState(Ce.startTime),[m,h]=k.useState(Ce.rrRounds),[p,y]=k.useState(Ce.intervalMin),[N,f]=k.useState(Ce.doubleEliminationInterval),[v,M]=k.useState(Ce.lunchDurationMin),[g,T]=k.useState(Ce.desiredLunchTime),[b,j]=k.useState([]),[D,A]=k.useState(new Set),{alliances:W}=ot(),{matches:Y}=cs(),{data:$=[],isLoading:Z,error:xe}=Mt({queryKey:["schedule","list"],queryFn:async()=>{const{data:S,error:C}=await Ie.from("schedule").select("*").order("start_time");if(C)throw console.error("Schedule query error:",C),C;return console.log("Schedule data loaded:",S?.length||0,"records"),S??[]}}),ge=k.useMemo(()=>$.length===0||Y.length===0?[]:Gr($,Y),[$,Y]),ve=$.length>0,Te=k.useCallback(()=>{if(t(null),j([]),!o||!d||!p||!m){t("Please pick the event day, start time, interval, and number of rounds.");return}if(W.length<2){t("Need at least 2 alliances.");return}try{const C=Ms(W,{day:o,startTime:d,intervalMin:p,rrRounds:m,doubleEliminationInterval:N,lunchDurationMin:v,desiredLunchTime:g});j(C);const _=C.at(-1);let se;if(_){const te=new Date(_.startTime);te.setMinutes(te.getMinutes()+_.duration),se=te.toISOString()}else se=new Date().toISOString();const U=qs(W.length,new Date(se),parseInt(N)),we=[],ee={};U.matches.forEach(te=>{te.round!==void 0&&(ee[te.round]||(ee[te.round]=[]),ee[te.round].push(te))});const me=new Date(se);Object.keys(ee).forEach(te=>{const Ne=parseInt(te),_e=ee[Ne]||[];if(_e.length===0)return;let Ye=new Date(me);for(let ae=1;ae<Ne;ae++){const Ve=ee[ae]||[];if(Ve.length>0){const ct=Ve.length*parseInt(N);Ye=new Date(Ye.getTime()+ct*6e4)}}const Ue=_e.filter(ae=>ae.bracket==="upper"),lt=_e.filter(ae=>ae.bracket==="lower");let Ee="";Ue.length>0&&lt.length>0?Ee=`Round ${Ne} - Upper & Lower Bracket`:Ue.length>0?Ee=`Round ${Ne} - Upper Bracket`:Ee=`Round ${Ne} - Lower Bracket`;const Ke=_e.length*parseInt(N),$e={startTime:Ye.toISOString(),duration:Ke,activity:{type:"playoffs",matches:_e,round:Ne,description:Ee}};we.push($e)});const De=[...C,...we];j(De),t(`Schedules generated successfully! Round robin with ${C.length} blocks and double elimination with ${U.matches.length} matches across ${Object.keys(ee).length} rounds. Total: ${De.length} blocks.`)}catch(S){t(`Generation failed: ${S instanceof Error?S.message:"Unknown error"}`)}},[o,d,p,m,N,v,g,W]),ye=k.useMemo(()=>b.filter(S=>S.activity.type==="matches"||S.activity.type==="playoffs").flatMap(S=>S.activity.matches),[b]),G=jt({mutationFn:async S=>{const{error:C}=await Ie.from("matches").insert(S);if(C)throw C;return!0},onSuccess:(S,C)=>{t(`Saved ${C.length} matches.`),r.invalidateQueries({queryKey:["matches","polling"]})},onError:S=>{t(`Save failed: ${S?.message??"Unknown error"}`)}}),Q=k.useCallback(()=>{if(ye.length===0)return;t("Saving schedule to database...");const S=ye.map((C,_)=>({id:C.id,name:`Round ${C.round} - Match ${_+1}`,red_alliance_id:C.red_alliance_id,blue_alliance_id:C.blue_alliance_id,scheduled_at:C.scheduled_at,red_score:null,blue_score:null,red_auto_score:null,blue_auto_score:null,red_coral_rp:!1,red_auto_rp:!1,red_barge_rp:!1,blue_coral_rp:!1,blue_auto_rp:!1,blue_barge_rp:!1,match_type:C.match_type}));G.mutateAsync(S).then(()=>{const C=b.map((_,se)=>{if(_.activity.type==="matches"){const U=se===0?0:b.slice(0,se).filter(me=>me.activity.type==="matches").reduce((me,De)=>me+De.activity.matches.length,0),we=ye.slice(U,U+_.activity.matches.length).map(me=>me.id),ee=new Date(_.startTime);return ee.setMinutes(ee.getMinutes()+_.duration),{start_time:_.startTime,end_time:ee.toISOString(),name:`Round ${_.activity.round+1}`,description:`${_.activity.matches.length} matches`,type:"match",match_ids:we}}else if(_.activity.type==="lunch"){const U=new Date(_.startTime);return U.setMinutes(U.getMinutes()+_.duration),{start_time:_.startTime,end_time:U.toISOString(),name:"Lunch Break",description:`${_.duration} minutes`,type:"lunch_break",match_ids:null}}else{const U=new Date(_.startTime);return U.setMinutes(U.getMinutes()+_.duration),{start_time:_.startTime,end_time:U.toISOString(),name:_.activity.description,description:`${_.activity.matches.length} matches`,type:"playoff",match_ids:_.activity.matches.map(we=>we.id)}}});Ie.from("schedule").insert(C).then(({error:_})=>{_?(console.error("Failed to save schedule:",_),t(`❌ Failed to save schedule: ${_.message}`)):(t("✅ Schedule saved successfully! You can now view it in the Existing Schedule tab."),r.invalidateQueries({queryKey:["schedule","list"]}))})}).catch(C=>{console.error("Failed to save matches:",C),t(`❌ Failed to save matches: ${C.message||"Unknown error"}`)})},[ye,b,G,r]),J=jt({mutationFn:async()=>{const{error:S}=await Ie.from("schedule").delete().gte("id","00000000-0000-0000-0000-000000000000");if(S)throw S;const{error:C}=await Ie.from("matches").delete().gte("id","00000000-0000-0000-0000-000000000000");if(C)throw C;return!0},onSuccess:()=>{j([]),t("All schedule data cleared."),Ot.info("Data Cleared","All match and schedule data has been successfully cleared."),r.invalidateQueries({queryKey:["schedule","list"]}),r.invalidateQueries({queryKey:["matches","polling"]})},onError:S=>{const C=`Clear failed: ${S?.message??"Unknown error"}`;t(C),Ot.error("Clear Failed",C)}}),Fe=k.useCallback(S=>{A(C=>{const _=new Set(C);return _.has(S)?_.delete(S):_.add(S),_})},[]),We=k.useCallback(()=>{n(S=>!S),s&&t("Configuration updated successfully!")},[s]),Re=k.useCallback(()=>{n(!1)},[]),X=k.useCallback(()=>({eventDate:o.toLocaleDateString(),startTime:d,lunchTime:g,lunchDuration:`${v} min`,rrRounds:m,intervalMin:p,doubleElimInterval:N,allianceCount:W.length}),[o,d,g,v,m,p,N,W.length]),ze=k.useMemo(()=>{if(b.length===0||W.length===0)return null;const S=b.filter(_=>_.activity.type==="matches");if(S.length===0)return null;const C=S.flatMap(_=>_.activity.matches);return Fs(C,W,S)},[b,W]);return a.jsx(Dn,{children:a.jsxs("div",{className:"h-screen flex flex-col space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Schedule"}),a.jsxs(_n,{children:[a.jsx(Sn,{asChild:!0,children:a.jsx(fe,{variant:"outline",size:"sm",children:a.jsx(fs,{className:"h-4 w-4"})})}),a.jsxs(Cn,{align:"end",className:"w-56",children:[a.jsx(An,{children:"Schedule Actions"}),a.jsx(Nt,{}),a.jsxs(tt,{onClick:()=>window.location.reload(),children:[a.jsx(hs,{className:"mr-2 h-4 w-4"}),"Refresh Data"]}),a.jsxs(tt,{disabled:!0,children:[a.jsx(ps,{className:"mr-2 h-4 w-4"}),"Export Schedule"]}),a.jsxs(tt,{disabled:!0,children:[a.jsx(bs,{className:"mr-2 h-4 w-4"}),"Import Schedule"]}),a.jsx(Nt,{}),c&&a.jsxs(tt,{onClick:()=>J.mutate(),variant:"destructive",disabled:J.isPending,children:[a.jsx(xs,{className:"mr-2 h-4 w-4"}),J.isPending?"Clearing...":"Clear All Data"]})]})]})]}),a.jsxs(ws,{defaultValue:c?"generation":"existing",className:"flex-1 flex flex-col space-y-4",children:[a.jsxs(Ns,{className:`grid w-full ${c?"grid-cols-2":"grid-cols-1"}`,children:[c&&a.jsxs(kt,{value:"generation",className:"flex items-center gap-2",children:[a.jsx(pt,{className:"h-4 w-4"}),"Schedule Generation"]}),a.jsxs(kt,{value:"existing",className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),"View Existing Schedule"]})]}),c&&a.jsxs(Dt,{value:"generation",className:"flex-1 flex flex-col space-y-6",children:[a.jsxs(V,{children:[a.jsx(de,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(gs,{className:"h-4 w-4"}),"Schedule Configuration"]}),a.jsx("div",{className:"flex gap-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx(fe,{onClick:Re,variant:"outline",size:"sm",children:"Cancel"}),a.jsx(fe,{onClick:We,size:"sm",children:"Save"})]}):a.jsxs(a.Fragment,{children:[a.jsxs(fe,{onClick:We,variant:"outline",size:"sm",children:[a.jsx(vs,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(fe,{onClick:Te,size:"sm",disabled:W.length<2,children:[a.jsx(pt,{className:"h-4 w-4 mr-2"}),"Generate Schedule"]})]})})]})}),s?a.jsx(K,{children:a.jsx(Ir,{day:o,setDay:l,startTime:d,setStartTime:u,rrRounds:m,setRrRounds:h,intervalMin:p,setIntervalMin:y,doubleEliminationInterval:N,setDoubleEliminationInterval:f,lunchDurationMin:v,setLunchDurationMin:M,desiredLunchTime:g,setDesiredLunchTime:T,alliances:W})}):a.jsx(K,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Event Date"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),a.jsx("span",{children:X().eventDate})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Start Time"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4"}),a.jsx("span",{children:X().startTime})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Lunch Time"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nt,{className:"h-4 w-4"}),a.jsxs("span",{children:[X().lunchTime," (",X().lunchDuration,")"]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Alliances"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold",children:X().allianceCount}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"alliances"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Round Robin Rounds"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold",children:X().rrRounds}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"rounds"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Match Interval"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold",children:X().intervalMin}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Playoffs Interval"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold",children:X().doubleElimInterval}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"min"})]})]})]})})]}),e&&a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:e})}),c&&ze&&a.jsx(Zr,{stats:ze}),a.jsx(Yr,{generatedBlocks:b,expandedRounds:D,setExpandedRounds:A,onSave:Q,onToggleRound:Fe,isSaving:G.isPending})]}),a.jsx(Dt,{value:"existing",className:"flex-1 flex flex-col space-y-4",children:a.jsx($r,{scheduleError:xe,hasExistingData:ve,scheduleLoading:Z,transformedExistingSchedule:ge,expandedRounds:D,onToggleRound:Fe})})]})]})})}const co=Object.freeze(Object.defineProperty({__proto__:null,default:Ur},Symbol.toStringTag,{value:"Module"}));export{Rr as S,co as s};
