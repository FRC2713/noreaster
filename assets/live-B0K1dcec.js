import{j as e}from"./ui-vendor-CWhAcX5I.js";import{u as j}from"./use-matches-polling-BD-JXtZx.js";import{u as v}from"./use-rankings-polling-D0gsH033.js";import{R as h}from"./rankings-table-2njCjvig.js";import{P as x,U as m}from"./played-match-card-QXo-dvag.js";import"./react-vendor-BE_oCUfB.js";import"./query-vendor-Cs1Z885O.js";import"./index-DDBma67i.js";import"./supabase-vendor-BfNnX3KH.js";import"./utils-vendor-Dkv1a4Vh.js";import"./icons-vendor-NdmwdHec.js";import"./use-alliances-polling-1S8ZN4KI.js";import"./card-DCxV3Rmh.js";import"./badge-CAycIRdO.js";function P(){const{matches:g,isLoading:d,error:l}=j(),{rankings:u}=v(),c=new Date,n=g.filter(s=>s.red_score!==null&&s.red_score!==void 0&&s.blue_score!==null&&s.blue_score!==void 0).sort((s,i)=>new Date(i.scheduled_at).getTime()-new Date(s.scheduled_at).getTime()).slice(0,5),p=g.filter(s=>(s.red_score===null||s.red_score===void 0||s.blue_score===null||s.blue_score===void 0)&&new Date(s.scheduled_at)>c).sort((s,i)=>new Date(s.scheduled_at).getTime()-new Date(i.scheduled_at).getTime()),r=[];r.push(...n);const f=6-r.length;return f>0&&r.push(...p.slice(0,f)),e.jsx("div",{className:"w-full min-h-screen bg-background",children:e.jsxs("div",{className:"w-full p-2 sm:p-4",children:[e.jsxs("div",{className:"flex flex-col h-screen lg:hidden",children:[e.jsx("div",{className:"w-full flex-shrink-0",children:e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:e.jsx("iframe",{src:"https://player.twitch.tv/?channel=robosportsnetwork&parent=frc2713.github.io",height:"100%",width:"100%",allowFullScreen:!0,className:"w-full h-full"})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 p-1",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Matches"}),d&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading matches..."}),l&&e.jsx("p",{className:"text-sm text-red-600",children:String(l)}),!d&&!l&&e.jsx("div",{className:"space-y-2",children:r.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No matches available"}):r.map((s,i)=>{const o=(s.red_score===null||s.red_score===void 0||s.blue_score===null||s.blue_score===void 0)&&new Date(s.scheduled_at)>c,t=n.includes(s),a=o&&i===n.length;return e.jsx("div",{className:`${a?"ring-2 ring-blue-500 ring-opacity-75 rounded-lg p-1":""}`,children:t?e.jsx(x,{match:s,dense:!0}):e.jsx(m,{match:s,dense:!0})},s.id)})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Rankings"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(h,{rows:u,showWLT:!0,showRank:!0,size:"sm"})})]})]})]}),e.jsxs("div",{className:"hidden lg:flex xl:hidden flex-col h-screen",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 flex-shrink-0",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:e.jsx("iframe",{src:"https://player.twitch.tv/?channel=robosportsnetwork&parent=frc2713.github.io",height:"100%",width:"100%",allowFullScreen:!0,className:"w-full h-full"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Matches"}),d&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading matches..."}),l&&e.jsx("p",{className:"text-sm text-red-600",children:String(l)}),!d&&!l&&e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:r.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No matches available"}):r.map((s,i)=>{const o=(s.red_score===null||s.red_score===void 0||s.blue_score===null||s.blue_score===void 0)&&new Date(s.scheduled_at)>c,t=n.includes(s),a=o&&i===n.length;return e.jsx("div",{className:`${a?"ring-2 ring-blue-500 ring-opacity-75 rounded-lg p-1":""}`,children:t?e.jsx(x,{match:s,dense:!0}):e.jsx(m,{match:s,dense:!0})},s.id)})})]})]}),e.jsxs("div",{className:"w-full flex-1 overflow-y-auto mt-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Rankings"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(h,{rows:u,showWLT:!0,showRank:!0,size:"sm"})})]})]}),e.jsxs("div",{className:"hidden xl:grid xl:grid-cols-3 gap-4 h-full",children:[e.jsxs("div",{className:"xl:col-span-2 flex flex-col gap-4 h-full",children:[e.jsx("div",{className:"h-[500px]",children:e.jsx("div",{className:"h-full bg-black rounded-lg overflow-hidden",children:e.jsx("iframe",{src:"https://player.twitch.tv/?channel=robosportsnetwork&parent=frc2713.github.io",height:"100%",width:"100%",allowFullScreen:!0,className:"w-full h-full"})})}),e.jsxs("div",{className:"flex-1 min-h-0",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Rankings"}),e.jsx("div",{className:"h-full overflow-hidden",children:e.jsx(h,{rows:u,showWLT:!0,showRank:!0,size:"sm"})})]})]}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Matches"}),d&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading matches..."}),l&&e.jsx("p",{className:"text-sm text-red-600",children:String(l)}),!d&&!l&&e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 p-1",children:r.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No matches available"}):r.map((s,i)=>{const o=(s.red_score===null||s.red_score===void 0||s.blue_score===null||s.blue_score===void 0)&&new Date(s.scheduled_at)>c,t=n.includes(s),a=o&&i===n.length;return e.jsx("div",{className:`${a?"ring-2 ring-blue-500 ring-opacity-75 rounded-lg p-1":""}`,children:t?e.jsx(x,{match:s,dense:!0}):e.jsx(m,{match:s,dense:!0})},s.id)})})]})]})]})})}export{P as default};
