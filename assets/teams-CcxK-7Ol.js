import{j as e}from"./ui-vendor-CDBhOMS0.js";import{B as c,s as i}from"./index-DiB4IOcY.js";import{r as u,L as m}from"./react-vendor-CNeAGCso.js";import{C as x,a as p}from"./card-DJYwy_Ja.js";import{B as h}from"./badge-DSDoCdJ3.js";import{R as f}from"./robot-image-CZe6BrnT.js";import{c as d}from"./query-vendor-BivveeUn.js";import"./supabase-vendor-B8N91wlh.js";import"./utils-vendor-DCj5grse.js";import"./icons-vendor-Dor2AXrm.js";const g=u.memo(function({team:r,className:a,...o}){return e.jsxs(x,{className:`group overflow-hidden transition-shadow duration-200 hover:shadow-lg ${a}`,...o,children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-950/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent z-10"}),e.jsx(f,{team:r,className:"w-full aspect-square object-contain transition-transform duration-300 ease-out group-hover:scale-105"}),e.jsx("div",{className:"absolute top-3 left-3 z-20",children:e.jsx(h,{className:"bg-primary/90 text-primary-foreground font-bold text-lg px-3 py-1 backdrop-blur-sm",children:r.number})})]}),e.jsx(p,{className:"p-5",children:e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors duration-200",children:r.name||`Team ${r.number}`}),r.name&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Team ",r.number]})]})})})]})});function B(){const{data:t=[],isLoading:r,error:a}=d({queryKey:["teams","list"],queryFn:async()=>{const{data:s,error:n}=await i.from("teams").select("id, number, name, robot_image_url").order("number",{ascending:!0});if(n)throw n;return s??[]}}),{data:o}=d({queryKey:["auth","user"],queryFn:async()=>{const{data:{user:s}}=await i.auth.getUser();return{user:s}}}),l=o?.user;return r?e.jsx("p",{children:"Loading teams..."}):a?e.jsxs("p",{className:"text-red-600",children:["Error: ",String(a)]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Teams"}),l&&e.jsx(m,{to:"/teams/new",children:e.jsx(c,{children:"New Team"})})]}),t.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No teams yet."}):e.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:t.map(s=>e.jsx("li",{children:e.jsx(m,{to:`/teams/${s.id}`,className:"block",children:e.jsx(g,{team:s})})},s.id))})]})}export{B as default};
